<ion-content>
  <ion-grid class="ion-no-padding" *ngIf="showProgram==1">
    <ion-header class="top-header ion-no-padding">
      <ion-list class="top-heading three-block">
        <ion-item slot="start">
          <ion-buttons class="ion-no-margin" (click)="goBack()">
            <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
          </ion-buttons>
        </ion-item>
        <ion-item slot="center">
          <ion-label>Add Program</ion-label>
        </ion-item>
        <ion-item class="icon-right-side ion-text-end" slot="end">
          <ion-label (click)="nextStep(2)" class="text-green">Next</ion-label>
        </ion-item>
      </ion-list>
    </ion-header>
    <ion-row class="ion-padding-horizontal main_content">
      <ion-col size="6" class="ion-no-padding">
        <ion-card class="upload-box ion-noleft-margin" (click)="openGallery()">
          <div class="upload_icon">
            <ion-icon ios="ios-image" md="md-image"></ion-icon>
          </div>
          <ion-card-title>Library</ion-card-title>
        </ion-card>
      </ion-col>
      <ion-col size="6" class="ion-no-padding">
        <ion-card class="upload-box ion-noright-margin" (click)="selectMedia()">

          <div class="upload_icon">
            <ion-icon ios="ios-camera" md="md-camera"></ion-icon>
          </div>
          <ion-card-title>Camera</ion-card-title>

        </ion-card>
      </ion-col>

      <!-- <ion-col size="12"  class="ion-no-padding video_col" *ngIf="videoFileSelected">
        <ion-slides pager="true" [options]="sliderOpts" class="full-slider mb-10" #mySlider>
        <ion-slide >
          
          <img *ngIf="videoFileSelected" (click)="filepreview()" class="mb-10" height="250px" src="../../assets/images/demo3.jpg">
          <ion-icon *ngIf="videoFileSelected" ios="ios-close-circle" md="md-close-circle" (click)="removefilepreview()" color="danger" class="btn-close"></ion-icon>
        </ion-slide>
        </ion-slides>  
      </ion-col>   -->

      <ion-col size="12" class="ion-no-padding" *ngIf="gallaryImgPath?.length>0 || videoFileSelected">
        <ion-button (click)="slidePrev()" class="slidebtns slideBack">
          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
        </ion-button>
        
        <ion-slides pager="true" [options]="sliderOpts" class="full-slider mb-10" #mySlider>
          <ion-slide (click)="showdetails()" *ngFor="let imgpath of gallaryImgPath; let i=index;">
            <img src="{{imgpath}}" />
            <ion-icon ios="ios-close-circle" md="md-close-circle" (click)="removeImg(i)"></ion-icon>
          </ion-slide>
          <ion-slide *ngIf="isVideoSelected">
            <img *ngIf="videoFileSelected" (click)="filepreview()" class="mb-10" height="250px" src="../../assets/images/demo3.jpg">
            <ion-icon *ngIf="videoFileSelected" ios="ios-close-circle" md="md-close-circle" (click)="removefilepreview()" color="danger" class="btn-close"></ion-icon>
          </ion-slide>
        </ion-slides>
        <ion-button (click)="slideNext()" class="slidebtns slideNext">
          <ion-icon ios="ios-arrow-forward" md="md-arrow-forward"></ion-icon>
        </ion-button>
      </ion-col>
      <ion-item-sliding *ngFor="let f of files">
        <ion-item (click)="openFile(f)">
          <ion-icon name="image" slot="start" *ngIf="f.name.endsWith('jpg')"></ion-icon>
          <ion-icon name="videocam" slot="start" *ngIf="f.name.endsWith('MOV') || f.name.endsWith('mp4')"></ion-icon>
          <ion-icon name="mic" slot="start" *ngIf="f.name.endsWith('wav')"></ion-icon>

          <ion-label class="ion-text-wrap">
            {{ f.name }}
            <p>{{ f.fullPath }}</p>
          </ion-label>
        </ion-item>
      </ion-item-sliding>
      <!-- 
      <ion-col size="12" class="ion-no-padding">
        <ion-button (click)="slidePrev(slides)" class="slidebtns slideBack">
          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
        </ion-button>
        <ion-slides pager="true" [options]="sliderOpts" class="full-slider mb-10" #mySlider>
          <ion-slide (click)="showdetails()">
            <img src="../../assets/images/demo1.jpg" />
          </ion-slide>
          <ion-slide>
            <img src="../../assets/images/demo2.jpg" />
          </ion-slide>
          <ion-slide>
            <img src="../../assets/images/demo3.jpg" />
          </ion-slide>
        </ion-slides>
        <ion-button (click)="slideNext(slides)" class="slidebtns slideNext">
          <ion-icon ios="ios-arrow-forward" md="md-arrow-forward"></ion-icon>
        </ion-button>
      </ion-col> -->
      <ion-col size="12" class="ion-no-padding">
        <form class="nutrition-form" [formGroup]="programForm">
          <ion-list>
            <ion-item class="floatingItem">
              <ion-label position="floating">Title <span>*</span></ion-label>
              <ion-input class="form-control" formControlName="programTitle" [ngClass]="{ 'is-invalid': submitted && f.programTitle.errors }">
              </ion-input>
            </ion-item>
            
            <ng-container *ngFor="let validation of validation_messages.programTitle">
              <span class="error-message"
                *ngIf="(submitted || programForm.get('programTitle').touched) && programForm.get('programTitle').hasError(validation.type)">{{ validation.message }}</span>
            </ng-container>
            <ion-item class="mb-10 floatingItem">
              <ion-label position="floating">Description </ion-label>
              <ion-textarea class="form-control" formControlName="programDescription">
              </ion-textarea>
            </ion-item>
            <ion-item class="mb-10">
              <ion-row>
                <ion-col size="6" class="ion-no-padding">
                  <ion-list-header class="grey-header">
                    <ion-label>Program Type</ion-label>
                  </ion-list-header>
                  <ion-radio-group class="full-width radio-list" formControlName="programType">
                    <!-- <ion-item lines="none">
                      <ion-label>Private - Oneway</ion-label>
                      <ion-radio slot="start" value="1" formControlName="programType"></ion-radio>
                    </ion-item>
                    <ion-item lines="none">
                      <ion-label>Group - Oneway</ion-label>
                      <ion-radio slot="start" value="2" formControlName="programType"></ion-radio>
                    </ion-item> -->
                    <ion-item lines="none">
                      <ion-label>Private</ion-label>
                      <!-- <ion-label>One to One</ion-label> -->
                      <!-- <ion-label>Private - Twoway</ion-label> -->
                      <ion-radio slot="start" value="3" formControlName="programType"></ion-radio>
                    </ion-item>
                    <ion-item lines="none">
                      <ion-label>Group</ion-label>
                      <!-- <ion-label>Many to Many</ion-label> -->
                      <ion-radio slot="start" value="4" formControlName="programType"></ion-radio>
                    </ion-item>
                    <ion-item lines="none">
                      <ion-label>Broadcast</ion-label>
                      <!-- <ion-label>One to Many</ion-label> -->
                      <ion-radio slot="start" value="5" formControlName="programType"></ion-radio>
                    </ion-item>
                    <ion-item lines="none">
                      <ion-label>Video</ion-label>
                      <ion-radio slot="start" value="6" formControlName="programType"></ion-radio>
                    </ion-item>
                    <!-- <ion-item lines="none">
                      <ion-label>Nutrition</ion-label>
                      <ion-radio slot="start" value="7" formControlName="programType" disabled="true"></ion-radio>
                    </ion-item> -->
                  </ion-radio-group>
                  <ng-container *ngFor="let validation of validation_messages.programType">
                    <span class="error-message"
                      *ngIf="(submitted || programForm.get('programType').touched) && programForm.get('programType').hasError(validation.type)">{{ validation.message }}</span>
                  </ng-container>
                </ion-col>
                <ion-col size="6" class="ion-no-padding">
                  <ion-list-header class="grey-header">
                    <ion-label></ion-label>
                  </ion-list-header>
                  <ion-item lines="none">
                    <ion-text>
                      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
                      ut labore et dolore magna aliqua.
                    </ion-text>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-item>
            <ion-item class="mb-10">
              <ion-row>
                <ion-col size="6" class="ion-no-padding">
                  <ion-radio-group lines="none" class="full-width radio-list" formControlName="participantsType">
                    <ion-list-header class="grey-header">
                      <ion-label>Select Praticipants</ion-label>
                    </ion-list-header>
                    <ion-item lines="none" (click)="userModal()">
                      <ion-label>Exclusive</ion-label>
                      <ion-radio slot="start" value="1" formControlName="participantsType"
                        [disabled]="f.programType.value==5 || !f.programType.value?true:false"></ion-radio>
                    </ion-item>
                    <ion-item lines="none" class="mb-10 sel-parti-open-item" (click)="clearExcl()">
                      <ion-label>Open</ion-label>
                      <ion-radio slot="start" value="2" checked formControlName="participantsType"></ion-radio>
                    </ion-item>
                    <ng-container *ngFor="let validation of validation_messages.participantsType">
                      <span class="error-message"
                        *ngIf="(submitted || programForm.get('participantsType').touched) && programForm.get('participantsType').hasError(validation.type)">{{ validation.message }}</span>
                    </ng-container>
                  </ion-radio-group>
                </ion-col>
              <ion-col size="6" class="ion-no-padding">
                <ion-list-header class="grey-header">
                  <ion-label></ion-label>
                </ion-list-header>
                <ion-item lines="none">
                  <ion-text>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
                    ut labore et dolore magna aliqua.
                  </ion-text>
                </ion-item>
              </ion-col>
              </ion-row>
            </ion-item>
            <ion-item class="mb-10">
              <ion-row>
                <ion-col size="6" class="ion-no-padding">
                  <ion-radio-group lines="none" class="full-width radio-list" formControlName="chatStatus">
                    <ion-list-header class="grey-header">
                      <ion-label>Chat room for program</ion-label>
                    </ion-list-header>
                    <ion-item lines="none" >
                      <ion-label>Enable</ion-label>
                      <ion-radio slot="start" value="1" checked formControlName="chatStatus"
                        ></ion-radio>
                    </ion-item>
                    <ion-item lines="none" class="mb-10 sel-parti-open-item">
                      <ion-label>Disable</ion-label>
                      <ion-radio slot="start" value="2"  formControlName="chatStatus"></ion-radio>
                    </ion-item>
                    <ng-container *ngFor="let validation of validation_messages.chatStatus">
                      <span class="error-message"
                        *ngIf="(submitted || programForm.get('chatStatus').touched) && programForm.get('chatStatus').hasError(validation.type)">{{ validation.message }}</span>
                    </ng-container>
                  </ion-radio-group>
                </ion-col>
              <ion-col size="6" class="ion-no-padding">
                <ion-list-header class="grey-header">
                  <ion-label></ion-label>
                </ion-list-header>
                <ion-item lines="none">
                  <ion-text>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
                    ut labore et dolore magna aliqua.
                  </ion-text>
                </ion-item>
              </ion-col>
              </ion-row>  
            </ion-item>
            <!-- <ion-item>
              <ion-label>Create Chat room for program</ion-label>
              <ion-toggle [disabled]='false' formControlName="chatStatus"  [(ngModel)]="toggleValue"  slot="end"></ion-toggle>
            </ion-item> -->
            
            
            <ion-item class="mb-10" *ngIf="modalData?.length>0">
              <ion-list lines="none" class="users-list">
                <ion-item  *ngFor="let user of modalData" >
                  <img src="{{profileUrl}}{{user.bios.profile_pic}}"  *ngIf="user.bios.profile_pic" (click)="userList()"/>
                  <img src="../../assets/images/user.png"  *ngIf="!user.bios.profile_pic" (click)="userList()"/>
                   <!-- <ion-label class="view-all" (click)="userList()">+2</ion-label> -->
                </ion-item>
              </ion-list>
            </ion-item>
          </ion-list>
        </form>
        
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid class="ion-no-padding" *ngIf="showProgram==2">
    <ion-header class="top-header ion-no-padding">
      <ion-list class="top-heading three-block">
        <ion-item slot="start">
          <ion-buttons class="ion-no-margin" (click)="backToFirst()">
            <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
          </ion-buttons>
        </ion-item>
        <ion-item slot="center">
          <ion-label>Select Date & Time</ion-label>
        </ion-item>
        <ion-item class="icon-right-side ion-text-end" slot="end">
          <!-- <ion-label (click)="toLastScreen()" class="text-green">Next</ion-label> -->
          <ion-label *ngIf="repetatedDateCopy.length > 0" (click)="toPrevScreen()" class="text-green">Next</ion-label>
        </ion-item>
      </ion-list>
    </ion-header>
    <ion-row class="ion-padding-horizontal main_content">
      <ion-col size="12" class="ion-no-padding">
        <!-- Move back one screen of the slides -->
        <ion-list lines="none" class="calendar-header">
          <ion-item class="ion-text-left">
            <ion-button class="calend_arrow" fill="clear" (click)="back()">
              <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-item>
          <ion-item>
            <ion-title>{{ viewTitle }}</ion-title>
          </ion-item>
          <!-- Move forward one screen of the slides -->
          <ion-item class="ion-text-right">
            <ion-button class="calend_arrow " fill="clear" (click)="next()">
              <ion-icon name="arrow-forward" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-list>
        <calendar [eventSource]="eventSource" [calendarMode]="calendar.mode" [currentDate]="calendar.currentDate"
          scrollToHour="{{currentHrs}}"  (onEventSelected)="onEventSelected($event)"
          (onTitleChanged)="onViewTitleChanged($event)" (onTimeSelected)="onTimeSelected($event)" startHour="0"
          endHour="24" step="1"  class="calendar-table swiper-container"></calendar>
          <!-- <ion-datetime #dateTime1 displayFormat="mm"></ion-datetime> -->

      </ion-col>

      <!-- <ion-list-header  *ngIf="repetatedDateCopy.length <= 0" class=" green green-alram-icon text-white"> -->
        <ion-list-header class="green-alram-icon">
          <ion-icon ios="ios-add" md="md-add" (click)="addLiveProgram()" style="width: 1.5rem; height: 1.5rem;"></ion-icon>
        </ion-list-header>

      <ion-list-header class=" dateTimePopUp green green-alram-icon text-white" style="display: none;">
        <div class='showDateTime'>
          <ion-datetime display-format="h:mm A" #picker  picker-format="h:mm A"   id="dat" [(ngModel)]="myDate" (ngModelChange)="showdate()" ></ion-datetime>
        </div>
      </ion-list-header>   
      <div class="program__card" *ngFor="let date of repetatedDateCopy let i = index">
        <ion-list class="width-full"  >
          <!-- <div *ngIf="date.date == dateObj">  -->
          <!-- <ion-list-header class="ion-padding-horizontal green text-white">
            {{date.date | date :'medium'}}
            <div class="toggleDiv"  (click)="toggleIcon(item)"> -->
              <!-- <ion-toggle [disabled] = '' (ionChange)="activatePopup(i)" (click)="toggleIcon(item)" checked={{date.is_live}}  slot="end"></ion-toggle>
              <ion-icon class="live-icon" src="../../assets/images/live-video.svg" (ionChange)="activatePopup(i)"   (click)="toggleIcon(item)" [ngClass]="{'active': item.active}"></ion-icon> -->
                <!-- <ion-label class="live"  (ionChange)="activatePopup(i)"   [ngClass]="{'active': item.active}">LIVE</ion-label>
            </div>
            <div class="calender_green_bottom"> -->
              <!-- <ion-toggle [disabled] = '' (ionChange)="activatePopup(i)"  checked={{date.is_live}}  slot="end"></ion-toggle> -->
              <!-- <ion-icon class="live-icon" src="../../assets/images/live-video.svg" (ionChange)="activatePopup(i)"   (click)="activatePopup(i)" [ngClass]="{'active': date.is_live}"></ion-icon>
              <ion-icon ios="ios-construct" md="md-construct" class="ion-margin-start" (click)="addEquipments2(1,date.equipments,i)"></ion-icon>
              <ion-icon ios="ios-nutrition" md="md-nutrition" class="ion-margin-start" (click)="addEquipments2(2,date.nutrition_id,i)">
              </ion-icon>
              <ion-icon ios="ios-videocam" md="md-videocam" class="ion-margin-start" (click)="addVideo(item,i)"></ion-icon> -->
              <!-- <ion-icon ios="ios-create" md="md-create" class="ion-margin-start" [routerLink]="['/add-program']"></ion-icon> -->
              <!-- <ion-icon ios="ios-close" md="md-close-circle" class="ion-margin-start close-icon" (click)="preSelectedDate(i)"></ion-icon> -->
            <!-- </div>
            
          </ion-list-header> -->
          <ion-list-header class="ion-padding-horizontal green text-white">
            <div class="toggleDiv"  (click)="toggleIcon(item)">
              <!-- <ion-toggle [disabled] = '' (ionChange)="activatePopup(i)" (click)="toggleIcon(item)" checked={{date.is_live}}  slot="end"></ion-toggle>
              <ion-icon class="live-icon" src="../../assets/images/live-video.svg" (ionChange)="activatePopup(i)"   (click)="toggleIcon(item)" [ngClass]="{'active': item.active}"></ion-icon> -->
                <!-- <ion-label class="live"  (ionChange)="activatePopup(i)"   [ngClass]="{'active': item.active}"></ion-label> -->
                <ion-label class="live" (click)="openStart(i)" (ionChange)="activatePopup(i)"   [ngClass]="{'active': date.is_live}"></ion-label>
            </div>
            <div class="divider"></div>
            <div class="title">
              {{date.date | date :'medium'}}
            </div>
            <div class="divider"></div>
            <div class="calender_green_bottom">
              <!-- <ion-toggle [disabled] = '' (ionChange)="activatePopup(i)"  checked={{date.is_live}}  slot="end"></ion-toggle> -->
              <!-- <ion-icon class="live-icon" (click)="picker.open()" src="../../assets/images/live-video.svg" (ionChange)="activatePopup(i)"   (click)="activatePopup(i)" [ngClass]="{'active': date.is_live}"></ion-icon> -->
              
              <ion-icon ios="ios-barbell" md="md-barbell" name="barbell-outline" class="ion-margin-start" (click)="addEquipments2(1,date.equipments,i)"></ion-icon>
              <ion-icon ios="ios-restaurant" md="md-restaurant" class="ion-margin-start" (click)="addEquipments2(2,date.nutrition_id,i)">
              </ion-icon>
              <ion-icon ios="ios-videocam" md="md-videocam" class="ion-margin-start" (click)="addVideo(item,i)"></ion-icon>
              <!-- <ion-icon ios="ios-create" md="md-create" class="ion-margin-start" [routerLink]="['/add-program']"></ion-icon> -->
              <!-- <ion-icon ios="ios-close" md="md-close-circle" class="ion-margin-start close-icon" (click)="preSelectedDate(i)"></ion-icon> -->
            </div>
            
          </ion-list-header>
    
          <ion-item *ngIf="date?.equipments.length>0">
            <ion-label style="overflow: initial;">Equipments :</ion-label>
            <div class="users-list" *ngIf="date?.equipments.length>0;else no_equipment">  
              <img src="../../assets/images/demo1.jpg" *ngFor="let item of date?.equipments" />
            </div>
            <!-- <ng-template #no_equipment>No Equipment Selected</ng-template> -->
          </ion-item>
          <ion-item *ngIf="date.nutrition_id.length > 0">
            <ion-label style="overflow: initial;">Nutritions :</ion-label>
            <div class="users-list" *ngIf="date.nutrition_id.length>0;else no_nutrition">
              <img src="../../assets/images/demo2.jpg" *ngFor="let item of date.nutrition_id" />
            </div>
            <!-- <ng-template #no_nutrition>No Nutrition Selected</ng-template> -->
          </ion-item>
          <ion-item *ngIf="date?.video">
            <ion-label style="overflow: initial;">Videos :</ion-label>
            <div class="users-list" *ngIf="date?.video;else no_videos">
            
              <img src="../../assets/images/demo2.jpg" *ngFor="let item of date.video" />
            </div>
            <!-- <ng-template #no_videos>No videos Selected</ng-template> -->
          </ion-item>      
          <!-- <ion-item class="descriptionItem">
            <ion-textarea placeholder="Enter Description" (ionChange)="detailsUpdate($event ,item?.id)"
                value="{{item?.description}}"></ion-textarea>
          </ion-item> -->
        <!-- </div> -->
        
          </ion-list>
          <div class="closeIcon">
            <ion-icon ios="ios-close" md="md-close"  class="ion-margin-start close-icon" (click)="preSelectedDate(i)"></ion-icon>
          </div>
      </div>
     
      <!-- <ion-item class="date_items" *ngFor="let dates of repetatedDateCopy; let i =index"> 
        <h6 >{{dates.date | date :'medium'}} </h6>
        <ion-icon ios="ios-close-circle" md="md-close-circle" (click)="preRemovedate(i)"></ion-icon>
      </ion-item>  -->
    </ion-row>
  </ion-grid>
  <ion-grid class="ion-no-padding" *ngIf="showProgram==3">
    <ion-header class="top-header ion-no-padding">
      <ion-list class="top-heading three-block">
        <ion-item slot="start">
          <ion-buttons class="ion-no-margin" (click)="showProgram=2">
            <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
          </ion-buttons>
        </ion-item>
        <ion-item slot="center">
          <ion-label>Payment</ion-label>
        </ion-item>
        <ion-item class="icon-right-side ion-text-end" slot="end" (click)="selectVolume()">
          <ion-label class="text-green" >Save</ion-label>
        </ion-item>
      </ion-list>
    </ion-header>
    <div class="main_content ion-padding programPreview">
      <form [formGroup]="finalForm" (ngSubmit)="saveProg()" class="fixed">
        <h6 style="margin: 0 0 15px 0">Program Name: {{ programDetail.title }}</h6>
        <ion-item lines="none" class="fixed">
          <ion-label style="display: contents;">How much would you like to charge:</ion-label>
          <ion-label style="    margin-left: 40px;">$</ion-label>
          <ion-input class="form-control" type="number" formControlName="programFees" value="0"></ion-input>
        </ion-item>
        <div *ngIf="programDetail.type_id == 'video'" class="margin-top-md">
        <ion-label style="display: block;margin-top: 15px; padding-left: 15px;">Would you like to request Sponsors:</ion-label>
      <ion-item lines="none">
        <ion-radio-group value="sponsors_group" class="radio-group radioPreview">
          <ion-item>
            <ion-label>Yes</ion-label>
            <ion-radio slot="start" value="1" (click)="sponsar_prog()" ></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>No</ion-label>
            <ion-radio slot="start" value="2" (click)="unsponsar_prog()" ></ion-radio>
          </ion-item>
        </ion-radio-group>      
      </ion-item>
      </div>
     
      <ion-list class="prog_btn_list">
      <ion-item  lines="none" (click)="verifyUserInfoModal()" *ngIf="loginUserData.trilloMatch != '1' && programDetail.type_id != 'video' ">
        <ion-button class="green btn button-medium">Earn with Intoactive</ion-button>
      </ion-item>
      <!-- <ion-item lines="none" (click)="verifyUserInfoModal() ">
        <ion-button class="green btn button-medium">Earn with Intoative</ion-button>
      </ion-item> -->
      <ion-item class="" *ngIf="approval_btn && !request_approve_btn ">
        <ion-button (click)="applyAdvertise()" class="green btn button-medium">Request Approval</ion-button> 
      </ion-item>
      <!-- <ion-item class="" *ngIf="request_approve_btn">
        <ion-button class="green btn button-medium">Request Sent</ion-button> 
      </ion-item> -->
      </ion-list>
    </form>
    </div>
  </ion-grid>
</ion-content>