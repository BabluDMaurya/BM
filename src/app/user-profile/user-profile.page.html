<ion-header class="top-header ion-no-padding">
  <ion-list class="top-heading three-block">    
    <ion-item slot="center">
      <ion-label *ngIf="profileData?.userData?.bios?.display_name">{{profileData?.userData?.bios?.display_name}}</ion-label>
      <ion-label [routerLink]="['/tabs/edit-profile']" *ngIf="!profileData?.userData?.bios?.display_name">Add Display Name +</ion-label>
    </ion-item>
    <ion-item class="ion-text-end" slot="end">
      <div class="icon-right-side">
        <a [routerLink]="['/tabs/search']" class="set-icon">
          <ion-icon ios="ios-search" md="md-search"></ion-icon>
        </a> 
        <a [routerLink]="['/notification']" id="notificationcount" class="noti-bell">
          <ion-icon ios="ios-notifications-outline" md="md-notifications-outline"></ion-icon>
          <span class=""></span>
        </a>
        <a [routerLink]="['/tabs/bookmark']" >
          <ion-icon ios="ios-bookmark" md="md-bookmark"></ion-icon>
        </a>
        <a [routerLink]="['/people/tabFollowers']" class="foll-people">
          <ion-icon ios="md-people" md="md-people"></ion-icon>
        </a>
        <a [routerLink]="['/settings']" class="set-icon">
          <ion-icon ios="ios-settings" md="md-settings"></ion-icon>
        </a>
      </div>
    </ion-item>
  </ion-list>
</ion-header> 
<ion-content class="main_content">  
  <ion-refresher class="page-refresher" slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      pullingText="Pull to refresh"
      refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>   
  <ion-grid class="ion-no-padding">
    <ion-row>
      <ion-col size="12" class="ion-no-padding pb-10">        
        <div class="sec-banner">
          <div class="top-banner">             
            <img [defaultImage] = "bannerDefaultImage" [lazyLoad]="bannerImage">            
          </div>
      </div>
      <div class="profile-heading">
        <div class="img-profile">
          <img [defaultImage] = "profileDefaultImage" [lazyLoad]="profileImage">              
        </div>
        <ion-text>
          <h6 class="userDisplayName" *ngIf="profileData?.userData?.user_name">
            {{profileData?.userData?.user_name}}
          </h6>
        </ion-text>
      </div>
      <!-- <ion-icon class="primary-color ABS-info" ios="ios-information-circle" md="md-information-circle" (click)="notification1()"></ion-icon> -->
    
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="ion-no-padding">
        <!-- <ion-segment lines="none" class="top-segment" [(ngModel)]="userProfile">
          <ion-segment-button value="aboutInfo">Information</ion-segment-button>
          <ion-segment-button value="upcomingProgram">Upcoming Program</ion-segment-button>
        </ion-segment> -->
        <div [ngSwitch]="userProfile">
          <div *ngSwitchCase="'aboutInfo'" class="user-info">

            <div *ngFor="let post of postData" >
              <div>
               <ion-card class="item-card" *ngIf="post?.post_type == 2">

                  <ion-card-header class="item-header" [routerLink]="['/videos',post.id,'']">
                    <ion-avatar>
                      <!-- <img [defaultImage]="profileDefaultImage" [lazyLoad]="profilePicUrl+profileData?.userData?.bios?.profile_pic"/> -->
                      <img src="{{profilePicUrl}}{{post?.post_user?.bios?.profile_pic}}"
                        *ngIf="post?.post_user?.bios?.profile_pic != 'null' ">
                      <img src="../../assets/images/user.jpg" *ngIf="post?.post_user?.bios?.profile_pic == 'null' ">
                    </ion-avatar>
                    <div class="header-right">
                      <ion-label>
                        <ion-card-title>{{post.post_user.user_name}}</ion-card-title>
                        <ion-card-subtitle>{{post.post_user.location}}</ion-card-subtitle>
                        <!-- <ion-card-subtitle *ngIf="post['video_post']['0']['video_type'] == 2">Exclusive</ion-card-subtitle> -->
                      </ion-label>
                      <ion-text class="post-timedate">
                        <p class="post-date">{{post?.created_at}}</p>
                      </ion-text>
                    </div>
                  </ion-card-header>
                  <ion-card-content class="ion-no-padding item-content">
                    <div class="img-container">
                      <ion-thumbnail class="post-video" [routerLink]="['/videos',post.id,'']"
                      *ngIf="post['video_post']['0']['thumb_path']">
                      <ion-card-subtitle class="exclusive-text" *ngIf="post['video_post']['0']['video_type'] == 2">Exclusive</ion-card-subtitle>
                      <img class="post-thumbnail" [defaultImage] = "defaultPostImage" [lazyLoad]="storagePath+post['video_post']['0']['thumb_path']" alt="Video Thumnail">
                      <!-- <img src="{{storagePath + post['video_post']['0']['thumb_path']}}" alt="Thumnail Path" /> -->
                      <!-- <img (click)="openViewer(post['video_post']['0']['thumb_path'])" src="{{storagePath + post['video_post']['0']['thumb_path']}}" alt="Thumnail Path" /> -->
                    </ion-thumbnail>
                    </div>
                    <ion-icon class="video-icon" ios="ios-videocam" md="md-videocam"></ion-icon>

                    <div class="post-content">
                      <ion-list class="item-post" lines="none">
                        <ion-item>
                          <div (click)="liked(post.id,post.liked)" class="{{ post.liked ?'active':'inactive' }}">
                            <ion-icon class="like-icon" ios="ios-heart" md="md-heart"></ion-icon>
                            <span>{{post?.count}}</span>
                          </div>
                          <div [routerLink]="['/comments',post.id]" *ngIf="post?.disable_comment == 0">
                            <!-- <span *ngIf="loginUserData?.comment_disable == 0"> -->
                              <ion-icon ios="ios-chatbubbles" md="md-chatbubbles"></ion-icon>
                              <span>{{post.total_comments.length}}</span>
                            <!-- </span> -->
                          </div>
                        </ion-item>
                        <!-- <ion-item>
                          <div (click)="showOptions(post?.id ,post?.disable_comment)">
                            <ion-icon ios="ios-more" md="md-more"></ion-icon>
                          </div>
                        </ion-item> -->
                      </ion-list>
                      <!-- -------  Description post with  post type = 2 -->
                      <div *ngIf="post?.post_type==2">
                        <p class="mb-10"
                          *ngIf="post['video_post']['0'].description && post['video_post']['0'].description.length < 30">
                          <span
                            class="username-text text-green">{{post.post_user.user_name}}</span>{{post['video_post']['0'].description.substr(0, 100)}}
                        </p>
                        <p class="mb-10"
                          *ngIf="post['video_post']['0'].description && post['video_post']['0'].description.length > 29 && expanded !=  post.id">
                          <span
                            class="username-text text-green">{{post.post_user.user_name}}</span>{{post['video_post']['0'].description.substr(0, 29)}}
                          <span (click)="expanded = post.id"
                            class="text-green">{{expanded==  post.id ?'View less':'View more'}}</span></p>
                        <p class="mb-10" *ngIf="expanded ==  post.id "><span
                            class="username-text text-green">{{post.post_user.user_name}}</span>{{post['video_post']['0'].description}}
                          <span (click)="expanded = 0"
                            class="text-green">{{expanded==  post.id ?'View less':'View more'}}</span></p>
                      </div>
                      <!-- ------- ends here   post type = 2 -->
                    </div>
                  </ion-card-content>
                </ion-card>
              
                <!-- Image & posts -->

                <ion-card class="item-card"   *ngIf="post?.post_type == 1 || post?.post_type == 8 ">
                  <span  >    
                  <ion-card-header class="item-header" >
                    <ion-avatar>
                      <img src="{{profilePicUrl}}{{post?.post_user?.bios?.profile_pic}}" *ngIf="post?.post_user?.bios?.profile_pic != 'null' ">
                      <img src="profileDefaultImage" *ngIf="post?.post_user?.bios?.profile_pic == 'null' ">
                    </ion-avatar>
                    <div class="header-right">
                      <ion-label>
                        <ion-card-title>{{post.post_user.user_name}}</ion-card-title>
                        <ion-card-subtitle>{{post.post_user.user_name}}</ion-card-subtitle>
                      </ion-label>
                      <ion-text class="post-timedate">
                        <p class="post-date">{{post?.created_at}}</p>
                      </ion-text>
                    </div>
                  </ion-card-header>
                  <ion-card-content class="ion-no-padding item-content">
                    <div class="img-container">
                      <ion-thumbnail class="post-image" *ngIf="post['image_post']['0']['thumb_path']">
                        <ion-slides [options]="imageSlider" class="post-slider" [pager]="true">
                          <ion-slide *ngFor="let imgpath of post['image_post']['0']['thumb_path']; let i =index;">
                            <img (click)="openViewer(post['image_post']['0']['image_path'][i])" src="{{url}}{{imgpath}}" alt="{{imgpath}}" />
                          </ion-slide>
                        </ion-slides>
                      </ion-thumbnail>
                    </div>
                    <div class="post-content">
                      <!-- -------  Description post with  post type = 8 -->
                      <div *ngIf="post?.post_type==8">
                        <p class="mb-10" *ngIf="post['image_post']['0'].description && post['image_post']['0'].description.length < 30"><span
                            class="username-text text-green">{{post.post_user.user_name}}</span>{{post['image_post']['0'].description.substr(0, 100)}}
                        </p>
                        <p class="mb-10" *ngIf="post['image_post']['0'].description && post['image_post']['0'].description.length > 29 && expanded !=  post.id">
                          <span
                            class="username-text text-green">{{post.post_user.user_name}}</span>{{post['image_post']['0'].description.substr(0, 29)}}
                          <span (click)="expanded = post.id"
                            class="text-green">{{expanded==  post.id ?'View less':'View more'}}</span></p>
                        <p class="mb-10" *ngIf="expanded ==  post.id "><span
                            class="username-text text-green">{{post.post_user.user_name}}</span>{{post['image_post']['0'].description}}
                          <span (click)="expanded = 0" class="text-green">{{expanded==  post.id ?'View less':'View more'}}</span></p>
                      </div>
                      <!-- ------- ends here   post type = 8 -->
                      <ion-list class="item-post" lines="none">
                        <ion-item>
                          <div (click)="liked(post.id,post.liked)" class="{{ post.liked ?'active':'inactive' }}">
                            <ion-icon class="like-icon" ios="ios-heart" md="md-heart"></ion-icon> 
                            <span>{{post?.count}}</span>
                          </div>
                          <div [routerLink]="['/comments',post.id]" *ngIf="post?.disable_comment==0">
                            <span class="d-flex">
                              <ion-icon ios="ios-chatbubbles" md="md-chatbubbles"></ion-icon> 
                              <span>{{post.total_comments.length}}</span>
                            </span>
                          </div>
                        </ion-item>
                        <!-- --------------- bookmark for only  othepost on own -------->
                        <ion-item *ngIf="post?.post_type==1 && consultID">         
                            <div (click)="bookmarked(post?.id , post?.bookmarked , 1)" class="{{ post?.bookmarked ?'active':'inactive' }}">
                              <ion-icon class="active-icon" ios="ios-bookmark" md="md-bookmark"></ion-icon>
                            </div>           
                        </ion-item>
              
                        <!-- <ion-item  *ngIf="!consultID">         
                          <div (click)="showOptions(post?.id ,post?.disable_comment )">
                            <ion-icon ios="ios-more" md="md-more"></ion-icon>
                          </div>           
                        </ion-item> -->
                      </ion-list>
                       <!-- --------------- bookmark ends here------------ -->
                      <!-- -------  Description for  I-M-A-G-E  post with  post type = 1-->
                      <div *ngIf="post?.post_type==1">
                        <p *ngIf="post['image_post']['0'].description && post['image_post']['0'].description.length < 30"><span
                            class="username-text text-green">{{post.post_user.user_name}}</span>{{post['image_post']['0'].description.substr(0, 100)}}
                        </p>
                        <p
                          *ngIf="post['image_post']['0'].description && post['image_post']['0'].description.length > 29 && expanded !=  post.id">
                          <span
                            class="username-text text-green">{{post.post_user.user_name}}</span>{{post['image_post']['0'].description.substr(0, 29)}}
                          <span (click)="expanded = post.id"
                            class="text-green">{{expanded==  post.id ?'View less':'View more'}}</span></p>
                        <p *ngIf="expanded ==  post.id "><span
                            class="username-text text-green">{{post.post_user.user_name}}</span>{{post['image_post']['0'].description}}
                          <span (click)="expanded = 0" class="text-green">{{expanded==  post.id ?'View less':'View more'}}</span></p>
                      </div>
                      <!-- ------- ends here   post type = 1-->
                    </div>
                  </ion-card-content>  
                </span>
                </ion-card>
              </div>
            </div> 
            <!-- <ion-card>
              <ion-card-header class="user-profile-header">
                <div class="user-icon">
                  <img src="../../assets/images/user.svg" />
                </div>
                <ion-text>Bio</ion-text>
              </ion-card-header>
              <ion-card-content class="user-profile-details">
                <ion-text class="user-details" *ngIf="profileData?.userData?.bios?.about_me">{{profileData?.userData?.bios?.about_me}}</ion-text>
                <a [routerLink]="['/tabs/edit-profile']" *ngIf="!profileData?.userData?.bios?.about_me">Click here to add something interesting about yourself</a> 
              </ion-card-content>
            </ion-card>
            <ion-card>
              <ion-card-header class="user-profile-header">
                <div class="user-icon">
                  <img src="../../assets/images/like.svg" />
                </div>
                <ion-text>Interests</ion-text>
              </ion-card-header>
              <ion-card-content  class="user-profile-details">
                <ion-text class="user-details" *ngIf="profileData?.speciality?.primaryName?.name">{{profileData?.speciality?.primaryName?.name}}</ion-text>
                <a [routerLink]="['/tabs/edit-profile']" *ngIf="!profileData?.speciality?.primaryName?.name">Select catagory in which you interested</a> 
              </ion-card-content>
            </ion-card>
            <ion-card>
              <ion-card-header class="user-profile-header">
                <div class="user-icon">
                  <img src="../../assets/images/global.svg" />
                </div>
                <ion-text>Language</ion-text>
              </ion-card-header>
              <ion-card-content  class="user-profile-details">
                <ion-text class="user-details" *ngIf="profileData?.lang?.lang">{{profileData?.lang?.lang}}</ion-text>
                <a [routerLink]="['/tabs/edit-profile']" *ngIf="!profileData?.speciality?.primaryName?.name">Add languages you know</a> 
              </ion-card-content>
            </ion-card>
            <ion-card>
              <ion-card-header  class="user-profile-header">
                <div class="user-icon">
                  <img src="../../assets/images/placeholder.svg" />
                  </div>
                  <ion-text>Location</ion-text>
              </ion-card-header>
              <ion-card-content  class="user-profile-details">
                <ion-text class="user-details" *ngIf="profileData?.address?.country?.name">{{profileData?.address?.city?.name}}{{profileData?.address?.state?.name }},{{profileData?.address?.country?.name}}</ion-text>
                <a [routerLink]="['/tabs/edit-profile']" *ngIf="!profileData?.address?.country?.name">Add Location</a> 
             
              </ion-card-content>
            </ion-card> -->
            <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
              <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data...">
              </ion-infinite-scroll-content>
            </ion-infinite-scroll>
          </div>
          <ion-list *ngSwitchCase="'upcomingProgram'" lines="none" class="upcomingProgram-list">
            <div *ngIf="upcomingProgram.length==0" class="no-data">
              <img src="../../../assets/images/error.svg" class="mb-10" width="40px" />
              <p>No Data Found</p>
            </div>
            <ion-item class="upcoming-block" *ngFor="let item of upcomingProgram; let i=index;"> 
                <ion-avatar slot="start">
                  <img [defaultImage] = "programDefaultImage" [lazyLoad]="url+item?.img_arr[0]">
                </ion-avatar>
              <ion-label [routerLink]="profileData?.userData?.id ==item?.user_id ? ['/program-details/',item.id] : ['/program-view/',item.id]">
                <div>
                  <h3>{{item?.title}}</h3>
                  <p>{{item?.type_id}}</p>
                  <p>By: <span>{{item?.program_user?.user_name}}</span></p>
                  <span class="list-name d-block" *ngIf="item?.cd>0"><b><span *ngIf="item?.hh > 0">{{ item?.hh |number }} Hours</span> {{ item?.mm |number  }} Minutes  {{ item?.ss |number }} Seconds </b> </span>

                  <span class="list-name d-block" *ngIf="item?.cd==0"> <b> L I V E</b></span>
                </div>
                <div class="action-links">
                 
                  <a (click)="nutritionModal(item)">
                    <ion-icon ios="md-restaurant" md="md-restaurant"></ion-icon>
                  </a>
                </div>
              </ion-label>
            </ion-item>
           
          </ion-list>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>