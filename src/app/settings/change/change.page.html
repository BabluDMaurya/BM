<ion-header class="top-header ion-no-padding">
  <ion-list class="top-heading three-block">
    <ion-item slot="start">
      <ion-buttons class="ion-no-margin" (click)="goBack()">
        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
      </ion-buttons>
    </ion-item>
    <ion-item slot="center">
      <ion-label>Change Password</ion-label>
    </ion-item>
    <ion-item class="icon-right-side ion-text-end" slot="end"></ion-item>
  </ion-list>
</ion-header>
<ion-content class="main_content">
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <form class="login-form sec-login" [formGroup]="changeForm" (ngSubmit)="onSubmit()">
          <ion-item class="ion-no-padding">
            <ion-input placeholder="Current Password" [type]="pwd ? 'password' : 'text'" formControlName="cur_pass"> </ion-input>
            <span toggle="#password-field" class="change-toggle-password"><ion-icon [name]="pwd ? 'eye-off' : 'eye'"  (click)="pwd=!pwd"></ion-icon></span>
          </ion-item>
          <div class="validation-errors">
            <ng-container *ngFor="let validation of validation_messages.cur_pass">
              <span class="error-message" *ngIf="(submitted ||changeForm.get('cur_pass').touched) && changeForm.get('cur_pass').hasError(validation.type)">{{ validation.message }}</span>
            </ng-container>
          </div>
          <ion-item class="ion-no-padding">
            <ion-input placeholder="New Password" [type]="npwd ? 'password' : 'text'" formControlName="new_pass" ></ion-input>
            <span toggle="#password-field" class="change-toggle-password"><ion-icon [name]="npwd ? 'eye-off' : 'eye'"  (click)="npwd=!npwd"></ion-icon></span>
          </ion-item>
          <div class="validation-errors">
            <ng-container *ngFor="let validation of validation_messages.new_pass">
              <span class="error-message" *ngIf="(submitted ||changeForm.get('new_pass').touched) && changeForm.get('new_pass').hasError(validation.type)">{{ validation.message }}</span>
            </ng-container>
          </div>
          <ion-item class="ion-no-padding">
            <ion-input  placeholder="Confirm password" [type]="cpwd ? 'password' : 'text'"  formControlName="cnf_pass"  ></ion-input>
            <span toggle="#password-field" class="change-toggle-password"><ion-icon [name]="cpwd ? 'eye-off' : 'eye'"  (click)="cpwd=!cpwd"></ion-icon></span>
          </ion-item>
          <div class="validation-errors">
            <ng-container *ngFor="let validation of validation_messages.cnf_pass">
              <span class="error-message" *ngIf="(submitted ||changeForm.get('cnf_pass').touched) && changeForm.get('cnf_pass').hasError(validation.type)">{{ validation.message }}</span>
            </ng-container>
          </div>
          <br>
          <ion-button expand="block" class="green ion-text-uppercase" [disabled]="loading" (click)="onSubmit()">Change Password</ion-button>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>