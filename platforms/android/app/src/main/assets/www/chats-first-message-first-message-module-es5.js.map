{"version":3,"sources":["src/app/chats/first-message/first-message.page.html","src/app/chats/first-message/first-message-routing.module.ts","src/app/chats/first-message/first-message.module.ts","src/app/chats/first-message/first-message.page.scss","src/app/chats/first-message/first-message.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header class=\\\"top-header ion-no-padding\\\" translucent>\\r\\n  <ion-list class=\\\"top-heading three-block\\\">\\r\\n    <ion-item slot=\\\"start\\\">\\r\\n      <ion-buttons slot=\\\"start\\\" class=\\\"ion-no-margin\\\" (click)=\\\"goBack()\\\">\\r\\n        <ion-icon ios=\\\"ios-arrow-back\\\" md=\\\"md-arrow-back\\\"></ion-icon>\\r\\n      </ion-buttons>\\r\\n      <ion-avatar slot=\\\"start\\\">\\r\\n        <img class=\\\"user-img\\\" [defaultImage] = \\\"profileDefaultImage\\\" [lazyLoad]=\\\"imageDisplay\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-label>\\r\\n        <h3 class=\\\"list-person\\\">{{nameDisplay |titlecase}}</h3>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item class=\\\"icon-right-side ion-text-end\\\" slot=\\\"end\\\"></ion-item>\\r\\n  </ion-list>\\r\\n</ion-header>\\r\\n<ion-content  class=\\\"main_content\\\" id=\\\"contentArea\\\">\\r\\n  <div>\\r\\n    <ion-list class=\\\"chats-list\\\" lines=\\\"none\\\">\\r\\n      <ion-item class=\\\"chat-box\\\">\\r\\n        <div class=\\\"ion-text-center\\\">\\r\\n          <ion-label class=\\\"message-label\\\">Say hi to {{nameDisplay |titlecase}}</ion-label>\\r\\n        </div>\\r\\n      </ion-item>   \\r\\n      <div *ngFor=\\\"let mess of messages\\\">   \\r\\n        <!--Private Chat-->\\r\\n        <ion-item class=\\\"chat-box chat-right\\\" *ngIf=\\\"mess.user ==  userData?.id &&  mess.sendTo == receiver_id\\\">\\r\\n          <div class=\\\"ion-text-end\\\">\\r\\n            <ion-label class=\\\"message-label\\\">{{ mess.msg }}</ion-label>\\r\\n            <span class=\\\"chat-time\\\">{{ mess.createdAt | date:'shortTime' }}<ion-icon ios=\\\"ios-done-all\\\" md=\\\"md-done-all\\\" [ngClass]=\\\"text-green\\\"></ion-icon></span>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"chat-box chat-left\\\" *ngIf=\\\"mess.user !== userData?.id && mess.sendTo == userData?.id\\\">\\r\\n          <div class=\\\"ion-text-start\\\">\\r\\n            <ion-label class=\\\"message-label\\\">{{ mess.msg }}</ion-label>\\r\\n            <span class=\\\"chat-time\\\">{{ mess.createdAt | date:'shortTime' }}</span>\\r\\n          </div>\\r\\n        </ion-item> \\r\\n        <!--Group Chat-->\\r\\n        <ion-item class=\\\"chat-box chat-right\\\" *ngIf=\\\"mess.user ==  userData?.id && chat_type == 3\\\">\\r\\n          <div class=\\\"ion-text-end\\\">\\r\\n            <ion-label class=\\\"message-label\\\">{{ mess.msg }}</ion-label>\\r\\n            <span class=\\\"chat-time\\\">{{ mess.createdAt | date:'shortTime' }}<ion-icon ios=\\\"ios-done-all\\\" md=\\\"md-done-all\\\" [ngClass]=\\\"text-green\\\"></ion-icon></span>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"chat-box chat-left\\\" *ngIf=\\\"mess.user !== userData?.id && chat_type == 3\\\">\\r\\n          <div class=\\\"ion-text-start\\\">\\r\\n            <ion-label class=\\\"message-label\\\">{{ mess.msg }}</ion-label>\\r\\n            <span class=\\\"chat-time\\\">{{ mess.createdAt | date:'shortTime' }}</span>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n      </div>    \\r\\n    </ion-list>    \\r\\n  </div>\\r\\n</ion-content>\\r\\n<ion-footer class=\\\"sticky-footer\\\">\\r\\n  <ion-item lines=\\\"none\\\">   \\r\\n    <ion-textarea [(ngModel)]=\\\"message\\\" id=\\\"sendmessage\\\" placeholder=\\\"Type here..\\\"></ion-textarea>\\r\\n    <img src=\\\"../../assets/images/send.svg\\\" class=\\\"send-img\\\"  (click)=\\\"sendMessage()\\\">\\r\\n  </ion-item>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FirstMessagePage } from './first-message.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FirstMessagePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FirstMessagePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FirstMessagePageRoutingModule } from './first-message-routing.module';\r\n\r\nimport { FirstMessagePage } from './first-message.page';\r\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FirstMessagePageRoutingModule,LazyLoadImageModule\r\n  ],\r\n  declarations: [FirstMessagePage]\r\n})\r\nexport class FirstMessagePageModule {}\r\n","export default \".main_content {\\n  background: url('chat-bg.png') repeat;\\n  --background: transparent;\\n  background-size: cover; }\\n\\n.icon-right-side ion-button {\\n  --padding-start:0;\\n  --padding-end:0;\\n  --background:transparent;\\n  --background-focused:transparent;\\n  --background-hover:transparent;\\n  --box-shadow:none; }\\n\\n.top-heading ion-item ion-avatar {\\n  margin-left: 8px;\\n  margin-right: 8px; }\\n\\n.sticky-footer .send-img {\\n  width: 26px; }\\n\\n.chats-list {\\n  --background:transparent;\\n  background: transparent; }\\n\\n.chats-list ion-item {\\n  --background:transparent;\\n  background: transparent;\\n  margin-bottom: 5px; }\\n\\n.chats-list ion-item > div {\\n  width: 100%; }\\n\\n.chat-box {\\n  height: auto !important; }\\n\\n.chat-box ion-label {\\n  margin: 0;\\n  padding: 5px 8px;\\n  border-radius: 4px;\\n  font-size: .75rem;\\n  color: #000;\\n  white-space: normal;\\n  display: inline-block;\\n  line-height: 1.5; }\\n\\n.chat-box span {\\n  color: #909090;\\n  font-size: 0.70rem;\\n  display: flex;\\n  align-items: center; }\\n\\n.chat-left ion-label {\\n  background: #e3e6e6;\\n  margin-right: 55px; }\\n\\n.chat-left span {\\n  justify-content: flex-start; }\\n\\n.chat-right ion-label {\\n  background: #32ab9f;\\n  color: #FFF;\\n  margin-left: 55px; }\\n\\n.chat-right span {\\n  justify-content: flex-end; }\\n\\n.chat-duration {\\n  position: relative;\\n  text-align: center; }\\n\\n.chat-duration::after {\\n  content: '';\\n  width: 100%;\\n  height: 1px;\\n  background: #ccc;\\n  display: block;\\n  position: relative;\\n  top: -8px; }\\n\\n.chat-duration span {\\n  background: #f9f9f9;\\n  position: relative;\\n  z-index: 9;\\n  padding: 2px 10px;\\n  border-radius: 4px; }\\n\\n.ios .chats-list {\\n  padding-top: 8px;\\n  padding-bottom: 8px; }\\n\\n.ios .chat-box span {\\n  font-size: 0.65rem; }\\n\\n.ios .chat-box span ion-icon {\\n  font-size: 1rem; }\\n\\n.main_content {\\n  max-height: calc(100vh - 115px); }\\n\\n.message-label {\\n  white-space: pre-wrap !important;\\n  text-align: left; }\\n\\n.top-header {\\n  top: 10px !important;\\n  height: 60px !important;\\n  max-height: 60px !important; }\\n\\n.main_content {\\n  top: 70px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hhdHMvZmlyc3QtbWVzc2FnZS9DOlxceGFtcHBcXGh0ZG9jc1xcaW50b2FjdGl2ZS9zcmNcXGFwcFxcY2hhdHNcXGZpcnN0LW1lc3NhZ2VcXGZpcnN0LW1lc3NhZ2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQWMscUNBQTBEO0VBQUUseUJBQWE7RUFBYSxzQkFBc0IsRUFBQTs7QUFDMUg7RUFBNEIsaUJBQWdCO0VBQUUsZUFBYztFQUFFLHdCQUFhO0VBQVksZ0NBQXFCO0VBQVksOEJBQW1CO0VBQVksaUJBQWEsRUFBQTs7QUFDcEs7RUFBaUMsZ0JBQWdCO0VBQUMsaUJBQWlCLEVBQUE7O0FBR25FO0VBQXlCLFdBQVcsRUFBQTs7QUFFcEM7RUFBWSx3QkFBYTtFQUFZLHVCQUF1QixFQUFBOztBQUM1RDtFQUFxQix3QkFBYTtFQUFZLHVCQUF1QjtFQUFDLGtCQUFrQixFQUFBOztBQUN4RjtFQUF5QixXQUFXLEVBQUE7O0FBQ3BDO0VBQVUsdUJBQXVCLEVBQUE7O0FBQ2pDO0VBQW9CLFNBQVE7RUFBQyxnQkFBZTtFQUFDLGtCQUFpQjtFQUFDLGlCQUFnQjtFQUFDLFdBQVc7RUFBQyxtQkFBbUI7RUFBQyxxQkFBcUI7RUFBQyxnQkFBZ0IsRUFBQTs7QUFDdEo7RUFBZSxjQUFjO0VBQUMsa0JBQWtCO0VBQUMsYUFBYTtFQUFDLG1CQUFtQixFQUFBOztBQUNsRjtFQUFxQixtQkFBa0I7RUFBQyxrQkFBa0IsRUFBQTs7QUFDMUQ7RUFBZ0IsMkJBQTJCLEVBQUE7O0FBQzNDO0VBQXNCLG1CQUFrQjtFQUFDLFdBQVc7RUFBQyxpQkFBaUIsRUFBQTs7QUFDdEU7RUFBaUIseUJBQXlCLEVBQUE7O0FBQzFDO0VBQWUsa0JBQWtCO0VBQUMsa0JBQWtCLEVBQUE7O0FBQ3BEO0VBQXNCLFdBQVc7RUFBQyxXQUFXO0VBQUMsV0FBVztFQUFDLGdCQUFnQjtFQUFDLGNBQWM7RUFBQyxrQkFBa0I7RUFBQyxTQUFTLEVBQUE7O0FBQ3RIO0VBQW9CLG1CQUFtQjtFQUFDLGtCQUFrQjtFQUFDLFVBQVU7RUFBQyxpQkFBaUI7RUFBQyxrQkFBa0IsRUFBQTs7QUFFMUc7RUFDZ0IsZ0JBQWdCO0VBQUMsbUJBQW1CLEVBQUE7O0FBRHBEO0VBRW1CLGtCQUFrQixFQUFBOztBQUZyQztFQUc0QixlQUFlLEVBQUE7O0FBRzNDO0VBQWMsK0JBQStCLEVBQUE7O0FBQzdDO0VBQ0ksZ0NBQWdDO0VBQ2hDLGdCQUFnQixFQUFBOztBQUVwQjtFQUNJLG9CQUFvQjtFQUNwQix1QkFBdUI7RUFDdkIsMkJBQTJCLEVBQUE7O0FBRS9CO0VBQ0ksb0JBQW9CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jaGF0cy9maXJzdC1tZXNzYWdlL2ZpcnN0LW1lc3NhZ2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW5fY29udGVudHtiYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vYXNzZXRzL2ltYWdlcy9jaGF0LWJnLnBuZykgcmVwZWF0OyAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O2JhY2tncm91bmQtc2l6ZTogY292ZXI7fVxyXG4uaWNvbi1yaWdodC1zaWRlIGlvbi1idXR0b257LS1wYWRkaW5nLXN0YXJ0OjA7LS1wYWRkaW5nLWVuZDowOy0tYmFja2dyb3VuZDp0cmFuc3BhcmVudDstLWJhY2tncm91bmQtZm9jdXNlZDp0cmFuc3BhcmVudDstLWJhY2tncm91bmQtaG92ZXI6dHJhbnNwYXJlbnQ7LS1ib3gtc2hhZG93Om5vbmV9XHJcbi50b3AtaGVhZGluZyBpb24taXRlbSBpb24tYXZhdGFye21hcmdpbi1sZWZ0OiA4cHg7bWFyZ2luLXJpZ2h0OiA4cHg7fVxyXG5cclxuLy8gY3NzIGZvciBmb290ZXJcclxuLnN0aWNreS1mb290ZXIgLnNlbmQtaW1ne3dpZHRoOiAyNnB4O31cclxuXHJcbi5jaGF0cy1saXN0ey0tYmFja2dyb3VuZDp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDt9XHJcbi5jaGF0cy1saXN0IGlvbi1pdGVtey0tYmFja2dyb3VuZDp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDttYXJnaW4tYm90dG9tOiA1cHg7fVxyXG4uY2hhdHMtbGlzdCBpb24taXRlbT5kaXZ7d2lkdGg6IDEwMCU7fVxyXG4uY2hhdC1ib3h7aGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7fVxyXG4uY2hhdC1ib3ggaW9uLWxhYmVse21hcmdpbjowO3BhZGRpbmc6NXB4IDhweDtib3JkZXItcmFkaXVzOjRweDtmb250LXNpemU6Ljc1cmVtO2NvbG9yOiAjMDAwO3doaXRlLXNwYWNlOiBub3JtYWw7ZGlzcGxheTogaW5saW5lLWJsb2NrO2xpbmUtaGVpZ2h0OiAxLjU7fVxyXG4uY2hhdC1ib3ggc3Bhbntjb2xvcjogIzkwOTA5MDtmb250LXNpemU6IDAuNzByZW07ZGlzcGxheTogZmxleDthbGlnbi1pdGVtczogY2VudGVyO31cclxuLmNoYXQtbGVmdCBpb24tbGFiZWx7YmFja2dyb3VuZDojZTNlNmU2O21hcmdpbi1yaWdodDogNTVweDt9XHJcbi5jaGF0LWxlZnQgc3BhbntqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7fVxyXG4uY2hhdC1yaWdodCBpb24tbGFiZWx7YmFja2dyb3VuZDojMzJhYjlmO2NvbG9yOiAjRkZGO21hcmdpbi1sZWZ0OiA1NXB4O31cclxuLmNoYXQtcmlnaHQgc3BhbntqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO31cclxuLmNoYXQtZHVyYXRpb257cG9zaXRpb246IHJlbGF0aXZlO3RleHQtYWxpZ246IGNlbnRlcjt9XHJcbi5jaGF0LWR1cmF0aW9uOjphZnRlcntjb250ZW50OiAnJzt3aWR0aDogMTAwJTtoZWlnaHQ6IDFweDtiYWNrZ3JvdW5kOiAjY2NjO2Rpc3BsYXk6IGJsb2NrO3Bvc2l0aW9uOiByZWxhdGl2ZTt0b3A6IC04cHg7fVxyXG4uY2hhdC1kdXJhdGlvbiBzcGFue2JhY2tncm91bmQ6ICNmOWY5Zjk7cG9zaXRpb246IHJlbGF0aXZlO3otaW5kZXg6IDk7cGFkZGluZzogMnB4IDEwcHg7Ym9yZGVyLXJhZGl1czogNHB4O31cclxuXHJcbi5pb3N7XHJcbiAgICAuY2hhdHMtbGlzdHtwYWRkaW5nLXRvcDogOHB4O3BhZGRpbmctYm90dG9tOiA4cHg7fVxyXG4gICAgLmNoYXQtYm94IHNwYW57Zm9udC1zaXplOiAwLjY1cmVtO31cclxuICAgIC5jaGF0LWJveCBzcGFuIGlvbi1pY29ue2ZvbnQtc2l6ZTogMXJlbTt9XHJcbn1cclxuXHJcbi5tYWluX2NvbnRlbnR7bWF4LWhlaWdodDogY2FsYygxMDB2aCAtIDExNXB4KTt9XHJcbi5tZXNzYWdlLWxhYmVse1xyXG4gICAgd2hpdGUtc3BhY2U6IHByZS13cmFwICFpbXBvcnRhbnQ7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG59XHJcbi50b3AtaGVhZGVye1xyXG4gICAgdG9wOiAxMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBoZWlnaHQ6IDYwcHggIWltcG9ydGFudDtcclxuICAgIG1heC1oZWlnaHQ6IDYwcHggIWltcG9ydGFudDtcclxufVxyXG4ubWFpbl9jb250ZW50e1xyXG4gICAgdG9wOiA3MHB4ICFpbXBvcnRhbnQ7XHJcbn0iXX0= */\"","import { Component, OnInit,ViewChild,AfterViewInit,OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, ParamMap} from '@angular/router';\r\nimport { IonContent,IonTextarea,NavController } from '@ionic/angular';\r\nimport { PeopleViewService } from \"../../services/people-view.service\";\r\nimport { Config } from './../../config/config';\r\nimport { Socket } from 'ngx-socket-io';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { ProgramService } from './../../services/program.service'\r\n\r\n@Component({\r\n  selector: 'app-first-message',\r\n  templateUrl: './first-message.page.html',\r\n  styleUrls: ['./first-message.page.scss','./../../app.component.scss'],\r\n})\r\nexport class FirstMessagePage implements OnInit,AfterViewInit,OnDestroy {\r\n  @ViewChild(IonContent, { read: IonContent,  static: false }) contentArea: IonContent;\r\n  @ViewChild(IonTextarea, { read: IonTextarea,  static: false }) sendmessage: IonTextarea;\r\n  userData:any;\r\n  chat_type:any = 0;\r\n  receiver_id : any;\r\n  nameDisplay : any;\r\n  imageDisplay : any;\r\n  message = '';\r\n  messages :any = [];\r\n  blockstatus : any = 0;\r\n  bidOUser : any;\r\n  bSOUser :any;\r\n  room :any = 'firstMessage';\r\n  createdRoom : any;\r\n  requestId :any = 0;\r\n  programDetail : any;\r\n  profilePicUrl: any = Config.profilePic;\r\n  url = Config.imgUrl;\r\n  profileDefaultImage = './../../../assets/images/user.jpg';\r\n  constructor(private actRoute: ActivatedRoute,\r\n              private peopleView: PeopleViewService,\r\n              private navCtrl: NavController,\r\n              private socket: Socket,\r\n              private chatservice : ChatService,\r\n              private commonService : CommonService,\r\n              private programService : ProgramService) { }\r\n  ngOnInit() {\r\n    // connect ot socket.io\r\n    // this.socket.connect();\r\n    this.userData = JSON.parse(localStorage.getItem('userData'));\r\n    this.actRoute.paramMap.subscribe((params: ParamMap) => {\r\n      this.chat_type = parseInt(params.get('chat_type'));\r\n      console.log(\"this.chat_type :\" + this.chat_type);\r\n      // chat_type = 1:consultant,2:user,3:program\r\n      if(this.chat_type == 1){\r\n        this.receiver_id = params.get('id');\r\n        this.peopleView.getUserData({ 'userId': this.receiver_id }).subscribe((data: any) => {\r\n          this.nameDisplay = data.userData.user_name;\r\n          this.imageDisplay = this.profilePicUrl+data.userData.bios.profile_pic;\r\n        });        \r\n      }else if(this.chat_type == 2){\r\n        this.receiver_id = params.get('id');\r\n        this.peopleView.getUserData({ 'userId': this.receiver_id }).subscribe((data: any) => {\r\n          this.nameDisplay = data.userData.user_name;\r\n          this.imageDisplay = this.profilePicUrl+data.userData.bios.profile_pic;\r\n        });        \r\n      }else if(this.chat_type == 3){\r\n        this.receiver_id = params.get('id');\r\n        this.programService.getProgramById({ \"programId\": this.receiver_id }).subscribe(data => {\r\n          this.programDetail = data.programData;\r\n          this.nameDisplay = data.programData.title;\r\n          if(data.programData.image_path){\r\n            this.programDetail.img_array =data.programData.image_path.split(','); \r\n            this.imageDisplay = this.url + this.programDetail.img_array[0];\r\n          }          \r\n        });\r\n      }      \r\n      if(this.chat_type != 3){  \r\n          //Private chat\r\n          console.log(\"private chat type : firstMessage\");\r\n          // this.socket.emit('set-name', this.userData.id,'firstMessage');\r\n          // this.socket.emit(\"addUser\", this.userData.id,this.receiver_id);\r\n          // this.socket.emit(\"newUser\", [this.userData.id,this.receiver_id, this.room]);          \r\n      }else{\r\n        //Group chat\r\n        console.log(\"group chat type : programMessage\");\r\n        // this.socket.emit('set-name', this.userData.id,'programMessage');\r\n        // this.socket.emit(\"newGroup\", this.userData.id,this.requestId, this.room);\r\n      }\r\n    });    \r\n  }\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n          this.sendmessage.setFocus();\r\n    }, 400);\r\n  }\r\n  ionViewWillEnter(){\r\n    if(this.chat_type != 3){\r\n      console.log('private message');\r\n      this.socket.fromEvent('message').subscribe(receiveMessageArr => {\r\n        console.log(\"private receiveMessageArr:\" + JSON.stringify(receiveMessageArr));\r\n        this.messages.push(receiveMessageArr);\r\n        this.contentArea.scrollToBottom();\r\n      });  \r\n    }else{\r\n    console.log('group message');\r\n    this.socket.fromEvent('groupmessage').subscribe(receiveMessageArr => {\r\n      console.log(\"GroupreceiveMessageArr:\" + JSON.stringify(receiveMessageArr));\r\n      this.messages.push(receiveMessageArr);\r\n      this.contentArea.scrollToBottom();\r\n    });  \r\n  }\r\n  }\r\n  createRoom(massa : any,blocks : any){\r\n    if(this.chat_type != 3){\r\n      var chatType :any = 1;\r\n    }else{\r\n      var chatType : any = this.chat_type;\r\n    }\r\n    this.chatservice.sendChatRequest({'type':chatType,'peopleSelect':[this.receiver_id]}).subscribe(\r\n      (data: any) => {\r\n        if(data.status == 'success'){          \r\n            this.room = data.room;\r\n            this.requestId = data.request_id;\r\n            this.createdRoom = true;\r\n            console.log(\"Room:\" + this.room);\r\n            console.log(\"requestId:\" + this.requestId);\r\n            if(this.chat_type == 3){\r\n              this.socket.emit(\"newGroup\", this.userData.id,this.requestId, this.room);\r\n\r\n              this.socket.emit('send-group-message', { text: massa});\r\n            }else{              \r\n              this.socket.emit(\"addUser\", this.userData.id,this.receiver_id);\r\n              this.socket.emit(\"newUser\", [this.userData.id,this.receiver_id, this.room]); \r\n\r\n              this.socket.emit('send-message', { text: massa, blockstatus : blocks, requestId : this.requestId});\r\n            }\r\n        }\r\n      },\r\n      err=> {\r\n        this.commonService.presentToast(\"Couldnt load data, Something went wrong.\");\r\n      });\r\n  }  \r\n  sendMessage() {    \r\n    if(this.message != '' && this.message != null){         \r\n      if(!this.createdRoom){       \r\n        this.createRoom(this.message,this.blockstatus);\r\n      }else if(this.createdRoom &&  this.chat_type == 3){\r\n        //Group Chat\r\n        console.log(\"Group:\"+this.chat_type);\r\n        this.socket.emit('send-group-message', { text: this.message});        \r\n      }else if(this.createdRoom && this.requestId > 0 && this.chat_type != 3){     \r\n        //Private Chat\r\n        console.log(\"Private:\"+this.chat_type);\r\n        this.socket.emit('send-message', { text: this.message, blockstatus : this.blockstatus, requestId : this.requestId});\r\n      }\r\n    this.message = '';\r\n    }\r\n    this.sendmessage.setFocus();\r\n  }\r\n  goBack() {    \r\n    // this.socket.disconnect();\r\n    this.messages = [];    \r\n    this.chat_type = '';\r\n    this.navCtrl.back();\r\n  }\r\n  ionViewWillLeave() {\r\n    // this.socket.disconnect();\r\n    this.messages = [];\r\n    this.chat_type = '';\r\n  }\r\n  ngOnDestroy(){\r\n    // this.socket.disconnect();\r\n    this.messages = [];\r\n    this.chat_type = '';\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"chats-first-message-first-message-module-es5.js"}