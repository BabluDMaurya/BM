{"version":3,"sources":["./src/app/settings/card-details/card-details.page.html","./src/app/settings/card-details/card-details-routing.module.ts","./src/app/settings/card-details/card-details.module.ts","./src/app/settings/card-details/card-details.page.scss","./src/app/settings/card-details/card-details.page.ts"],"names":[],"mappings":"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","file":"card-details-card-details-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-item slot=\\\"start\\\">\\n    <ion-buttons class=\\\"ion-no-margin\\\" *ngIf=\\\"!showPreview\\\">\\n      <ion-icon ios=\\\"ios-arrow-back\\\" md=\\\"md-arrow-back\\\" (click) = \\\"goBack()\\\"></ion-icon>\\n    </ion-buttons>\\n  </ion-item> \\n  <ion-toolbar>\\n    <ion-title>card-details</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content  color=\\\"primary\\\" *ngIf=\\\"this.storageData.stripe_customer_id == '' \\\">\\n  <form  #form=\\\"ngForm\\\" (ngSubmit)=\\\"register(form)\\\" >\\n    <ion-grid>\\n      <ion-row color=\\\"primary\\\" justify-content-center>\\n        <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n          <div text-center>\\n            <h3>Enter Card Details!</h3>\\n          </div>\\n          <div padding>\\n            <ion-item>\\n              <ion-input  name=\\\"holder_name\\\" type=\\\"text\\\" placeholder=\\\"Card Holder Name\\\" ngModel required></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-input name=\\\"card_number\\\" type=\\\"text\\\" placeholder=\\\"Card Number\\\" ngModel required></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-input name=\\\"cvv\\\" type=\\\"text\\\" placeholder=\\\"CVV\\\" ngModel required></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-input name=\\\"exp_month\\\" type=\\\"number\\\" placeholder=\\\"Expriy Month\\\" ngModel required></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-input name=\\\"exp_year\\\" type=\\\"number\\\" placeholder=\\\"Expriy Year\\\" ngModel required></ion-input>\\n            </ion-item>\\n          </div>\\n          <div padding>\\n            <ion-button  size=\\\"large\\\" type=\\\"submit\\\" [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\">Save Details</ion-button>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n  \\n</ion-content>\\n<ion-content *ngIf=\\\"this.storageData.stripe_customer_id != '' \\\">\\n  <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n    <div text-center>\\n      <h3>Update Card Details!</h3>\\n    </div>\\n  </ion-col> \\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CardDetailsPage } from './card-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CardDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CardDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CardDetailsPageRoutingModule } from './card-details-routing.module';\n\nimport { CardDetailsPage } from './card-details.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CardDetailsPageRoutingModule\n  ],\n  declarations: [CardDetailsPage]\n})\nexport class CardDetailsPageModule {}\n","export default \"ion-item {\\n  --background: #3880ff;\\n  --color: #fff; }\\n\\nion-button {\\n  --background: #062f77; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2V0dGluZ3MvY2FyZC1kZXRhaWxzL0M6XFx4YW1wcFxcaHRkb2NzXFxpbnRvYWN0aXZlL3NyY1xcYXBwXFxzZXR0aW5nc1xcY2FyZC1kZXRhaWxzXFxjYXJkLWRldGFpbHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQWE7RUFDYixhQUFRLEVBQUE7O0FBR1o7RUFDSSxxQkFBYSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvc2V0dGluZ3MvY2FyZC1kZXRhaWxzL2NhcmQtZGV0YWlscy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbXtcclxuICAgIC0tYmFja2dyb3VuZDogIzM4ODBmZjtcclxuICAgIC0tY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbmlvbi1idXR0b257XHJcbiAgICAtLWJhY2tncm91bmQ6ICMwNjJmNzc7XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport {Stripe} from '@ionic-native/stripe/ngx';\nimport { NavController } from '@ionic/angular';\nimport { Config } from '../../config/config';\nimport { ProgramService } from '../../services/program.service';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-card-details',\n  templateUrl: './card-details.page.html',\n  styleUrls: ['./card-details.page.scss'],\n})\nexport class CardDetailsPage implements OnInit {\n  stripeKey: any = Config.stripePublishKey;\n  paymentData: any;\n  storageData: any;\n  cardDetails: { number: string; expMonth: number; expYear: number; cvc: string; };\n  token: any;\n  constructor(private stripe: Stripe,private programService: ProgramService,private navCtrl: NavController,private storage: Storage,) { }\n\n  ngOnInit() {\n    const dataPromise = this.storage.get('userData');\n        dataPromise.then(data => {\n            this.storageData = JSON.parse(data);\n            console.log(this.storageData.stripe_customer_id);\n            \n        });\n  }\n  register(form) {\n    console.log(form.form.value);\n    this.stripe.setPublishableKey(this.stripeKey);\n\n    this.cardDetails = {\n      number: form.form.value.card_number,\n      expMonth: form.form.value.exp_month,\n      expYear: form.form.value.exp_year,\n      cvc: form.form.value.cvv\n    }\n\n    this.stripe.createCardToken(this.cardDetails)\n      .then(token => {\n        console.log(token);\n        this.token = token;\n        console.log('payment with stripeeee');\n        this.programService.createStripeCustomerId({\"token_id\" : this.token}).subscribe(data => {\n         \n        });\n      })\n      .catch(error => console.error(error));\n    \n  }\n  goBack() {\n    this.navCtrl.back();\n  }\n}\n"],"sourceRoot":"webpack:///"}