{"version":3,"sources":["src/app/chats/access/access.page.html","src/app/chats/access/access-routing.module.ts","src/app/chats/access/access.module.ts","src/app/chats/access/access.page.scss","src/app/chats/access/access.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header class=\\\"top-header ion-no-padding\\\" translucent>\\r\\n  <ion-list class=\\\"top-heading three-block\\\">\\r\\n    <ion-item slot=\\\"start\\\">\\r\\n      <ion-buttons slot=\\\"start\\\" class=\\\"ion-no-margin\\\" [routerLink]=\\\"['/tabs/chats']\\\">\\r\\n        <ion-icon ios=\\\"ios-arrow-back\\\" md=\\\"md-arrow-back\\\"></ion-icon>\\r\\n      </ion-buttons>\\r\\n      <ion-avatar slot=\\\"start\\\">\\r\\n        <img *ngIf=\\\"!profile_pic\\\" src=\\\"../../assets/images/user.jpg\\\">\\r\\n        <img *ngIf=\\\"profile_pic\\\" src=\\\"{{profilePicUrl}}{{profile_pic}}\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-label>\\r\\n        <h3 class=\\\"list-person\\\" *ngIf=\\\"groupName != '' && groupName != null\\\">{{groupName}}</h3>\\r\\n        <h3 class=\\\"list-person\\\" *ngIf=\\\"user_name != '' && user_name != null\\\">{{user_name}}</h3>\\r\\n        <span class=\\\"list-name\\\"> {{UserOnLineStatus}}</span>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n    <!-- <ion-item class=\\\"icon-right-side ion-text-end\\\" slot=\\\"end\\\">\\r\\n      <ion-button slot=\\\"end\\\" (click)=\\\"presentPopover()\\\"><ion-icon ios=\\\"ios-more\\\" md=\\\"md-more\\\"></ion-icon></ion-button>\\r\\n    </ion-item> -->\\r\\n  </ion-list>\\r\\n</ion-header>\\r\\n<ion-content class=\\\"main_content\\\"> \\r\\n  <ion-list class=\\\"chats-list\\\" lines=\\\"none\\\" *ngFor=\\\"let storeMessage of storeMessages\\\">\\r\\n    <!-- <ion-item>\\r\\n      <ion-label class=\\\"chat-duration\\\"><span>{{(storeMessage.created_at | date:'dd/MM/y') == chatDates? : }}</span></ion-label>\\r\\n    </ion-item> -->\\r\\n    <!-- <ion-item class=\\\"chat-box chat-right\\\" *ngIf=\\\"storeMessage.sender_id ===  userData?.id &&  storeMessage.receiver_id == receiverId\\\">\\r\\n      <div class=\\\"ion-text-end\\\">\\r\\n        <ion-label>{{ storeMessage.message }}{{storeMessage.read_mess}}</ion-label>\\r\\n        <span class=\\\"chat-time\\\">{{ storeMessage.created_at | date:'shortTime' }} <ion-icon ios=\\\"ios-done-all\\\" md=\\\"md-done-all\\\" [ngClass]=\\\"{ 'text-green': storeMessage.read_mess == 1 }\\\"></ion-icon></span>\\r\\n      </div>\\r\\n    </ion-item> -->\\r\\n    <ion-item class=\\\"chat-box chat-left\\\" >\\r\\n      <div class=\\\"ion-text-start\\\">\\r\\n        <ion-label>{{ storeMessage.message }}</ion-label>\\r\\n        <span class=\\\"chat-time\\\">{{ storeMessage.created_at | date:'shortTime' }}</span>\\r\\n      </div>\\r\\n    </ion-item>    \\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n<ion-footer class=\\\"sticky-footer chatsButtons d-flex\\\" *ngIf=\\\"messageButtons\\\">\\r\\n    <ion-button class=\\\"ion-no-margin full-height\\\" color=\\\"light\\\" (click)=\\\"decline()\\\">Decline</ion-button>\\r\\n    <ion-button class=\\\"ion-no-margin full-height green\\\" (click)=\\\"allow()\\\">Allow</ion-button>\\r\\n</ion-footer> \"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AccessPage } from './access.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AccessPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AccessPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AccessPageRoutingModule } from './access-routing.module';\r\n\r\nimport { AccessPage } from './access.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    AccessPageRoutingModule\r\n  ],\r\n  declarations: [AccessPage]\r\n})\r\nexport class AccessPageModule {}\r\n","export default \".main_content {\\n  background: url('chat-bg.png') repeat;\\n  --background: transparent;\\n  background-size: cover; }\\n\\n.icon-right-side ion-button {\\n  --padding-start:0;\\n  --padding-end:0;\\n  --background:transparent;\\n  --background-focused:transparent;\\n  --background-hover:transparent;\\n  --box-shadow:none; }\\n\\n.top-heading ion-item ion-avatar {\\n  margin-left: 8px;\\n  margin-right: 8px; }\\n\\n.sticky-footer .send-img {\\n  width: 26px; }\\n\\n.chats-list {\\n  --background:transparent;\\n  background: transparent; }\\n\\n.chats-list ion-item {\\n  --background:transparent;\\n  background: transparent;\\n  margin-bottom: 5px; }\\n\\n.chats-list ion-item > div {\\n  width: 100%; }\\n\\n.chat-box ion-label {\\n  margin: 0;\\n  padding: 5px 8px;\\n  border-radius: 4px;\\n  font-size: .75rem;\\n  color: #000;\\n  white-space: normal;\\n  display: inline-block;\\n  line-height: 1.5; }\\n\\n.chat-box span {\\n  color: #909090;\\n  font-size: 0.70rem;\\n  display: flex;\\n  align-items: center; }\\n\\n.chat-left ion-label {\\n  background: #e3e6e6;\\n  margin-right: 55px; }\\n\\n.chat-left span {\\n  justify-content: flex-start; }\\n\\n.chat-right ion-label {\\n  background: #32ab9f;\\n  color: #FFF;\\n  margin-left: 55px; }\\n\\n.chat-right span {\\n  justify-content: flex-end; }\\n\\n.chat-duration {\\n  position: relative;\\n  text-align: center; }\\n\\n.chat-duration::after {\\n  content: '';\\n  width: 100%;\\n  height: 1px;\\n  background: #ccc;\\n  display: block;\\n  position: relative;\\n  top: -8px; }\\n\\n.chat-duration span {\\n  background: #f9f9f9;\\n  position: relative;\\n  z-index: 9;\\n  padding: 2px 10px;\\n  border-radius: 4px; }\\n\\n.ios .chats-list {\\n  padding-top: 8px;\\n  padding-bottom: 8px; }\\n\\n.ios .chat-box span {\\n  font-size: 0.65rem; }\\n\\n.ios .chat-box span ion-icon {\\n  font-size: 1rem; }\\n\\n.message {\\n  padding: 10px;\\n  border-radius: 10px;\\n  margin-bottom: 4px;\\n  white-space: pre-wrap; }\\n\\n.my-message {\\n  background: var(--ion-color-tertiary);\\n  color: #fff; }\\n\\n.other-message {\\n  background: var(--ion-color-secondary);\\n  color: #fff; }\\n\\n.time {\\n  color: #dfdfdf;\\n  float: right;\\n  font-size: small; }\\n\\n.message-input {\\n  margin-top: 0px;\\n  border: 1px solid var(--ion-color-medium);\\n  border-radius: 10px;\\n  background: #fff; }\\n\\n.msg-btn {\\n  --padding-start: 0.5em;\\n  --padding-end: 0.5em; }\\n\\n.top-header {\\n  height: 60px !important;\\n  max-height: 60px !important; }\\n\\n.main_content {\\n  top: 60px !important; }\\n\\n.chat-box {\\n  height: auto !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hhdHMvYWNjZXNzL0M6XFx4YW1wcFxcaHRkb2NzXFxpbnRvYWN0aXZlXFxCTS9zcmNcXGFwcFxcY2hhdHNcXGFjY2Vzc1xcYWNjZXNzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFjLHFDQUEwRDtFQUFFLHlCQUFhO0VBQWEsc0JBQXNCLEVBQUE7O0FBQzFIO0VBQTRCLGlCQUFnQjtFQUFFLGVBQWM7RUFBRSx3QkFBYTtFQUFZLGdDQUFxQjtFQUFZLDhCQUFtQjtFQUFZLGlCQUFhLEVBQUE7O0FBQ3BLO0VBQWlDLGdCQUFnQjtFQUFDLGlCQUFpQixFQUFBOztBQUduRTtFQUF5QixXQUFXLEVBQUE7O0FBRXBDO0VBQVksd0JBQWE7RUFBWSx1QkFBdUIsRUFBQTs7QUFDNUQ7RUFBcUIsd0JBQWE7RUFBWSx1QkFBdUI7RUFBQyxrQkFBa0IsRUFBQTs7QUFDeEY7RUFBeUIsV0FBVyxFQUFBOztBQUNwQztFQUFvQixTQUFRO0VBQUMsZ0JBQWU7RUFBQyxrQkFBaUI7RUFBQyxpQkFBZ0I7RUFBQyxXQUFXO0VBQUMsbUJBQW1CO0VBQUMscUJBQXFCO0VBQUMsZ0JBQWdCLEVBQUE7O0FBQ3RKO0VBQWUsY0FBYztFQUFDLGtCQUFrQjtFQUFDLGFBQWE7RUFBQyxtQkFBbUIsRUFBQTs7QUFDbEY7RUFBcUIsbUJBQWtCO0VBQUMsa0JBQWtCLEVBQUE7O0FBQzFEO0VBQWdCLDJCQUEyQixFQUFBOztBQUMzQztFQUFzQixtQkFBa0I7RUFBQyxXQUFXO0VBQUMsaUJBQWlCLEVBQUE7O0FBQ3RFO0VBQWlCLHlCQUF5QixFQUFBOztBQUMxQztFQUFlLGtCQUFrQjtFQUFDLGtCQUFrQixFQUFBOztBQUNwRDtFQUFzQixXQUFXO0VBQUMsV0FBVztFQUFDLFdBQVc7RUFBQyxnQkFBZ0I7RUFBQyxjQUFjO0VBQUMsa0JBQWtCO0VBQUMsU0FBUyxFQUFBOztBQUN0SDtFQUFvQixtQkFBbUI7RUFBQyxrQkFBa0I7RUFBQyxVQUFVO0VBQUMsaUJBQWlCO0VBQUMsa0JBQWtCLEVBQUE7O0FBRTFHO0VBQ2dCLGdCQUFnQjtFQUFDLG1CQUFtQixFQUFBOztBQURwRDtFQUVtQixrQkFBa0IsRUFBQTs7QUFGckM7RUFHNEIsZUFBZSxFQUFBOztBQUUzQztFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLHFCQUFxQixFQUFBOztBQUd2QjtFQUNFLHFDQUFxQztFQUNyQyxXQUFXLEVBQUE7O0FBR2I7RUFDRSxzQ0FBc0M7RUFDdEMsV0FBVyxFQUFBOztBQUdiO0VBQ0UsY0FBYztFQUNkLFlBQVk7RUFDWixnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSxlQUFlO0VBQ2YseUNBQXlDO0VBQ3pDLG1CQUFtQjtFQUNuQixnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSxzQkFBZ0I7RUFDaEIsb0JBQWMsRUFBQTs7QUFFaEI7RUFDRSx1QkFBdUI7RUFDdkIsMkJBQTJCLEVBQUE7O0FBRTdCO0VBQ0Usb0JBQW9CLEVBQUE7O0FBRXRCO0VBQVUsdUJBQXVCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9jaGF0cy9hY2Nlc3MvYWNjZXNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluX2NvbnRlbnR7YmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvY2hhdC1iZy5wbmcpIHJlcGVhdDsgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO31cclxuLmljb24tcmlnaHQtc2lkZSBpb24tYnV0dG9uey0tcGFkZGluZy1zdGFydDowOy0tcGFkZGluZy1lbmQ6MDstLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7LS1iYWNrZ3JvdW5kLWZvY3VzZWQ6dHJhbnNwYXJlbnQ7LS1iYWNrZ3JvdW5kLWhvdmVyOnRyYW5zcGFyZW50Oy0tYm94LXNoYWRvdzpub25lfVxyXG4udG9wLWhlYWRpbmcgaW9uLWl0ZW0gaW9uLWF2YXRhcnttYXJnaW4tbGVmdDogOHB4O21hcmdpbi1yaWdodDogOHB4O31cclxuXHJcbi8vIGNzcyBmb3IgZm9vdGVyXHJcbi5zdGlja3ktZm9vdGVyIC5zZW5kLWltZ3t3aWR0aDogMjZweDt9XHJcblxyXG4uY2hhdHMtbGlzdHstLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7fVxyXG4uY2hhdHMtbGlzdCBpb24taXRlbXstLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7bWFyZ2luLWJvdHRvbTogNXB4O31cclxuLmNoYXRzLWxpc3QgaW9uLWl0ZW0+ZGl2e3dpZHRoOiAxMDAlO31cclxuLmNoYXQtYm94IGlvbi1sYWJlbHttYXJnaW46MDtwYWRkaW5nOjVweCA4cHg7Ym9yZGVyLXJhZGl1czo0cHg7Zm9udC1zaXplOi43NXJlbTtjb2xvcjogIzAwMDt3aGl0ZS1zcGFjZTogbm9ybWFsO2Rpc3BsYXk6IGlubGluZS1ibG9jaztsaW5lLWhlaWdodDogMS41O31cclxuLmNoYXQtYm94IHNwYW57Y29sb3I6ICM5MDkwOTA7Zm9udC1zaXplOiAwLjcwcmVtO2Rpc3BsYXk6IGZsZXg7YWxpZ24taXRlbXM6IGNlbnRlcjt9XHJcbi5jaGF0LWxlZnQgaW9uLWxhYmVse2JhY2tncm91bmQ6I2UzZTZlNjttYXJnaW4tcmlnaHQ6IDU1cHg7fVxyXG4uY2hhdC1sZWZ0IHNwYW57anVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O31cclxuLmNoYXQtcmlnaHQgaW9uLWxhYmVse2JhY2tncm91bmQ6IzMyYWI5Zjtjb2xvcjogI0ZGRjttYXJnaW4tbGVmdDogNTVweDt9XHJcbi5jaGF0LXJpZ2h0IHNwYW57anVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDt9XHJcbi5jaGF0LWR1cmF0aW9ue3Bvc2l0aW9uOiByZWxhdGl2ZTt0ZXh0LWFsaWduOiBjZW50ZXI7fVxyXG4uY2hhdC1kdXJhdGlvbjo6YWZ0ZXJ7Y29udGVudDogJyc7d2lkdGg6IDEwMCU7aGVpZ2h0OiAxcHg7YmFja2dyb3VuZDogI2NjYztkaXNwbGF5OiBibG9jaztwb3NpdGlvbjogcmVsYXRpdmU7dG9wOiAtOHB4O31cclxuLmNoYXQtZHVyYXRpb24gc3BhbntiYWNrZ3JvdW5kOiAjZjlmOWY5O3Bvc2l0aW9uOiByZWxhdGl2ZTt6LWluZGV4OiA5O3BhZGRpbmc6IDJweCAxMHB4O2JvcmRlci1yYWRpdXM6IDRweDt9XHJcblxyXG4uaW9ze1xyXG4gICAgLmNoYXRzLWxpc3R7cGFkZGluZy10b3A6IDhweDtwYWRkaW5nLWJvdHRvbTogOHB4O31cclxuICAgIC5jaGF0LWJveCBzcGFue2ZvbnQtc2l6ZTogMC42NXJlbTt9XHJcbiAgICAuY2hhdC1ib3ggc3BhbiBpb24taWNvbntmb250LXNpemU6IDFyZW07fVxyXG59XHJcbi5tZXNzYWdlIHtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xyXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcclxufVxyXG4gXHJcbi5teS1tZXNzYWdlIHtcclxuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItdGVydGlhcnkpO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG59XHJcbiBcclxuLm90aGVyLW1lc3NhZ2Uge1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG59XHJcbiBcclxuLnRpbWUge1xyXG4gIGNvbG9yOiAjZGZkZmRmO1xyXG4gIGZsb2F0OiByaWdodDtcclxuICBmb250LXNpemU6IHNtYWxsO1xyXG59XHJcbiBcclxuLm1lc3NhZ2UtaW5wdXQge1xyXG4gIG1hcmdpbi10b3A6IDBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbWVkaXVtKTtcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIGJhY2tncm91bmQ6ICNmZmY7XHJcbn1cclxuIFxyXG4ubXNnLWJ0biB7XHJcbiAgLS1wYWRkaW5nLXN0YXJ0OiAwLjVlbTtcclxuICAtLXBhZGRpbmctZW5kOiAwLjVlbTtcclxufVxyXG4udG9wLWhlYWRlcnsgIFxyXG4gIGhlaWdodDogNjBweCAhaW1wb3J0YW50O1xyXG4gIG1heC1oZWlnaHQ6IDYwcHggIWltcG9ydGFudDtcclxufVxyXG4ubWFpbl9jb250ZW50e1xyXG4gIHRvcDogNjBweCAhaW1wb3J0YW50O1xyXG59XHJcbi5jaGF0LWJveHtoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDt9Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { ParamMap, ActivatedRoute } from '@angular/router';\r\nimport { CommonService } from 'src/app/services/common.service';\r\nimport { Router } from '@angular/router';\r\nimport { Socket } from 'ngx-socket-io';\r\nimport { Config } from './../../config/config';\r\nimport { ChatRoomsComponent } from './../chat-rooms/chat-rooms.component';\r\n\r\n@Component({\r\n  selector: 'app-access',\r\n  templateUrl: './access.page.html',\r\n  styleUrls: ['./access.page.scss','../../app.component.scss',],\r\n})\r\nexport class AccessPage implements OnInit {\r\n  requestId: any;\r\n  userData:any;\r\n  messageButtons = true;\r\n  senderId : any;\r\n  message = '';\r\n  messages = [];\r\n  UserOnLineStatus : any;\r\n  currentUser = '';\r\n  room : any ;\r\n  storeMessage = '';\r\n  storeMessages ; any;\r\n  public myUserId: string;\r\n  user_name : any;\r\n  display_name :any;\r\n  profile_pic : any;\r\n  profilePicUrl : any = Config.profilePic;\r\n  chatType : any;\r\n  groupName : any = '';\r\n  adminId : any = '';\r\n  groupMember : any = '';\r\n  acceptMember : any = '';\r\n  groupImage : any = '';\r\n  groupId : any = '';\r\n  groupMessage = '';\r\n  groupMessages = [];\r\n  constructor(public navCtrl: NavController,\r\n    private actRoute: ActivatedRoute,\r\n    private dataService: ChatService,\r\n    public commonService:CommonService,\r\n    private router: Router,\r\n    private socket: Socket,\r\n    ) { }    \r\n  ngOnInit() {\r\n    this.userData = JSON.parse(localStorage.getItem('userData'));\r\n    this.actRoute.paramMap.subscribe((params: ParamMap) => {\r\n      this.requestId = params.get('id');\r\n      this.senderId = params.get('senderId');//in group chat this is room\r\n      this.chatType = params.get('type');\r\n      if(this.chatType != 2){\r\n        this.dataService.getChatRoom({'userId':this.senderId}).subscribe((data:any)=>{\r\n          this.room = data.chatroom.room;\r\n          console.log(\"data.chatroom.room:\" + this.room);\r\n          this.privateChat();\r\n        });\r\n      }else{        \r\n        this.groupChat();\r\n      }\r\n    });    \r\n  }  \r\n  privateChat(){\r\n    this.socket.fromEvent('storchatdate').subscribe(data => {\r\n      // console.log(\"storchatdate : \"+JSON.stringify(data));\r\n    });\r\n    this.socket.fromEvent('message').subscribe(message => {\r\n      this.messages.push(message);\r\n    });\r\n    this.socket.fromEvent('UserOnLineStatus').subscribe(UserOnLineStatus => {\r\n      this.UserOnLineStatus = UserOnLineStatus;\r\n    });\r\n\r\n    this.socket.emit(\"addUser\", this.userData.id,this.senderId);\r\n    console.log(\"privateChat room:\" + this.room);\r\n    this.socket.emit(\"privateUser\", [this.userData.id,this.senderId, this.room]);\r\n\r\n    this.socket.emit(\"storemassagerequest\",this.userData.id,this.senderId);\r\n\r\n    this.socket.fromEvent('stormessage').subscribe(storMessage => {      \r\n      this.storeMessages = storMessage;\r\n    });\r\n\r\n    this.socket.fromEvent('userName').subscribe(data => {\r\n      this.user_name = data[0].user_name;\r\n    });\r\n\r\n    this.socket.fromEvent('userBio').subscribe(data => {\r\n      this.display_name = data[0].display_name;\r\n      this.profile_pic = data[0].profile_pic;      \r\n    });\r\n  }\r\n  groupChat(){\r\n    console.log(\"groupChat\");\r\n    this.room = this.senderId;    \r\n    this.socket.emit(\"newGroup\", this.userData.id,this.requestId, this.room);\r\n    this.socket.emit('stormessagerequest',this.userData.id,this.requestId);\r\n    this.socket.fromEvent('groupChatRequestData').subscribe(groupChatRequestData => {\r\n      this.groupName = groupChatRequestData[0].group_name;\r\n      this.adminId = groupChatRequestData[0].admin_id;\r\n      this.groupMember = groupChatRequestData[0].group_member;\r\n      this.acceptMember = groupChatRequestData[0].accept_member;\r\n      this.groupImage = groupChatRequestData[0].group_image;\r\n      this.groupId = groupChatRequestData[0].id;\r\n    });\r\n    this.socket.fromEvent('stormessage').subscribe(stormessage => {\r\n      this.storeMessages = stormessage;      \r\n      console.log(\"storeMessages :\" + JSON.stringify(stormessage));\r\n    });\r\n    this.socket.fromEvent('groupmessage').subscribe(message => {\r\n      this.groupMessages.push(message);\r\n    });\r\n  }\r\n  //---------allow---------\r\n  allow(){\r\n    this.commonService.presentLoader();\r\n    if(this.requestId != null && this.requestId != ''){\r\n      //------------Accept Request -------------\r\n    this.dataService.acceptChatRequest({ 'id': this.requestId,'senderId' : this.senderId,'type':this.chatType}).subscribe(\r\n      (data: any) => {\r\n        console.log(\"acceptChatrequest:\" + JSON.stringify(data));\r\n          this.commonService.dismissLoader();\r\n          this.messageButtons = false;\r\n          if(data.status && this.chatType == 1){            \r\n            var fileData = {\r\n              returnUrl : 'list',\r\n              chatType : this.chatType,\r\n              room : data.room,\r\n              receiverId : parseInt(this.senderId),\r\n              requestId : parseInt(this.requestId),\r\n              }\r\n            // console.log('1/chat-room/+this.senderId++data.room+this.chatType'+this.senderId+'/'+data.room+'/'+this.chatType);\r\n            // this.router.navigateByUrl('/chat-room/'+this.senderId+'/'+data.room+'/'+this.chatType);\r\n          }else{\r\n            var fileData = {\r\n              returnUrl : 'list',\r\n              chatType : this.chatType,\r\n              room : data.room,\r\n              receiverId : parseInt(this.requestId),\r\n              requestId : parseInt(this.requestId),\r\n              }            \r\n          //   console.log('2/chat-room/+this.requestId++data.room+this.chatType'+this.requestId+'/'+data.room+'/'+this.chatType);\r\n          //   this.router.navigateByUrl('/chat-room/'+this.requestId+'/'+data.room+'/'+this.chatType);\r\n          }\r\n          this.commonService.presentModal(ChatRoomsComponent,'fullModal',fileData);\r\n      });\r\n    }\r\n  }\r\n  decline(){\r\n    this.commonService.presentLoader();\r\n    if(this.requestId != null && this.requestId != ''){\r\n      //------------Reject Request -------------\r\n    this.dataService.rejectChatRequest({ 'id': this.requestId,'type':this.chatType}).subscribe(\r\n      (data: any) => {\r\n        this.commonService.dismissLoader();\r\n        this.messageButtons = false;          \r\n          this.navCtrl.back();\r\n      });\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"chats-access-access-module-es5.js"}