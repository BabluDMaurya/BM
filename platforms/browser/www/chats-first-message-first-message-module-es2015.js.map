{"version":3,"sources":["./src/app/chats/first-message/first-message.page.html","./src/app/chats/first-message/first-message-routing.module.ts","./src/app/chats/first-message/first-message.module.ts","./src/app/chats/first-message/first-message.page.scss","./src/app/chats/first-message/first-message.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,ymBAA0iB,wBAAwB,6aAA6a,wBAAwB,8VAA8V,YAAY,wDAAwD,qCAAqC,gWAAgW,YAAY,wDAAwD,qCAAqC,0RAA0R,YAAY,wDAAwD,qCAAqC,mVAAmV,YAAY,wDAAwD,qCAAqC,ob;;;;;;;;;;;;;;;;;;;ACA5rF;AACc;AAEC;AAExD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oEAAgB;KAC5B;CACF,CAAC;AAMF,IAAa,6BAA6B,GAA1C,MAAa,6BAA6B;CAAG;AAAhC,6BAA6B;IAJzC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,6BAA6B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBD;AACM;AACF;AAEA;AAEkC;AAEvB;AACA;AAWxD,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;CAAG;AAAzB,sBAAsB;IATlC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,2FAA6B,EAAC,qEAAmB;SAClD;QACD,YAAY,EAAE,CAAC,oEAAgB,CAAC;KACjC,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;ACpBnC;AAAe,+EAAgB,0CAA0C,8BAA8B,2BAA2B,EAAE,iCAAiC,sBAAsB,oBAAoB,6BAA6B,qCAAqC,mCAAmC,sBAAsB,EAAE,sCAAsC,qBAAqB,sBAAsB,EAAE,8BAA8B,gBAAgB,EAAE,iBAAiB,6BAA6B,4BAA4B,EAAE,0BAA0B,6BAA6B,4BAA4B,uBAAuB,EAAE,gCAAgC,gBAAgB,EAAE,eAAe,4BAA4B,EAAE,yBAAyB,cAAc,qBAAqB,uBAAuB,sBAAsB,gBAAgB,wBAAwB,0BAA0B,qBAAqB,EAAE,oBAAoB,mBAAmB,uBAAuB,kBAAkB,wBAAwB,EAAE,0BAA0B,wBAAwB,uBAAuB,EAAE,qBAAqB,gCAAgC,EAAE,2BAA2B,wBAAwB,gBAAgB,sBAAsB,EAAE,sBAAsB,8BAA8B,EAAE,oBAAoB,uBAAuB,uBAAuB,EAAE,2BAA2B,gBAAgB,gBAAgB,gBAAgB,qBAAqB,mBAAmB,uBAAuB,cAAc,EAAE,yBAAyB,wBAAwB,uBAAuB,eAAe,sBAAsB,uBAAuB,EAAE,sBAAsB,qBAAqB,wBAAwB,EAAE,yBAAyB,uBAAuB,EAAE,kCAAkC,oBAAoB,EAAE,mBAAmB,oCAAoC,EAAE,oBAAoB,qCAAqC,qBAAqB,EAAE,iBAAiB,yBAAyB,4BAA4B,gCAAgC,EAAE,mBAAmB,yBAAyB,EAAE,+CAA+C,2sI;;;;;;;;;;;;;;;;;;;;;;;;;ACAljE;AAC1B;AACY;AACC;AACxB;AACR;AACqB;AACE;AACG;AAOjE,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;IAoB3B,YAAoB,QAAwB,EACxB,UAA6B,EAC7B,OAAsB,EACtB,MAAc,EACd,WAAyB,EACzB,aAA6B,EAC7B,cAA+B;QAN/B,aAAQ,GAAR,QAAQ,CAAgB;QACxB,eAAU,GAAV,UAAU,CAAmB;QAC7B,YAAO,GAAP,OAAO,CAAe;QACtB,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAc;QACzB,kBAAa,GAAb,aAAa,CAAgB;QAC7B,mBAAc,GAAd,cAAc,CAAiB;QAtBnD,cAAS,GAAO,CAAC,CAAC;QAIlB,YAAO,GAAG,EAAE,CAAC;QACb,aAAQ,GAAQ,EAAE,CAAC;QACnB,gBAAW,GAAS,CAAC,CAAC;QAGtB,SAAI,GAAQ,cAAc,CAAC;QAE3B,cAAS,GAAQ,CAAC,CAAC;QAEnB,kBAAa,GAAQ,qDAAM,CAAC,UAAU,CAAC;QACvC,QAAG,GAAG,qDAAM,CAAC,MAAM,CAAC;QACpB,wBAAmB,GAAG,mCAAmC,CAAC;IAOH,CAAC;IACxD,QAAQ;QACN,uBAAuB;QACvB,yBAAyB;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,MAAgB,EAAE,EAAE;YACpD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC;YACnD,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;YACjD,4CAA4C;YAC5C,IAAG,IAAI,CAAC,SAAS,IAAI,CAAC,EAAC;gBACrB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,IAAS,EAAE,EAAE;oBAClF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;oBAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;gBACxE,CAAC,CAAC,CAAC;aACJ;iBAAK,IAAG,IAAI,CAAC,SAAS,IAAI,CAAC,EAAC;gBAC3B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,IAAS,EAAE,EAAE;oBAClF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;oBAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;gBACxE,CAAC,CAAC,CAAC;aACJ;iBAAK,IAAG,IAAI,CAAC,SAAS,IAAI,CAAC,EAAC;gBAC3B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACpC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBACrF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC;oBACtC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;oBAC1C,IAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAC;wBAC7B,IAAI,CAAC,aAAa,CAAC,SAAS,GAAE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACrE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;qBAChE;gBACH,CAAC,CAAC,CAAC;aACJ;YACD,IAAG,IAAI,CAAC,SAAS,IAAI,CAAC,EAAC;gBACnB,cAAc;gBACd,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;gBAChD,iEAAiE;gBACjE,kEAAkE;gBAClE,yFAAyF;aAC5F;iBAAI;gBACH,YAAY;gBACZ,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;gBAChD,mEAAmE;gBACnE,4EAA4E;aAC7E;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IACD,eAAe;QACb,UAAU,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAClC,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IACD,gBAAgB;QACd,IAAG,IAAI,CAAC,SAAS,IAAI,CAAC,EAAC;YACrB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,iBAAiB,CAAC,EAAE;gBAC7D,OAAO,CAAC,GAAG,CAAC,4BAA4B,GAAG,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC9E,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBACtC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;YACpC,CAAC,CAAC,CAAC;SACJ;aAAI;YACL,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,iBAAiB,CAAC,EAAE;gBAClE,OAAO,CAAC,GAAG,CAAC,yBAAyB,GAAG,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBAC3E,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBACtC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC;YACpC,CAAC,CAAC,CAAC;SACJ;IACD,CAAC;IACD,UAAU,CAAC,KAAW,EAAC,MAAY;QACjC,IAAG,IAAI,CAAC,SAAS,IAAI,CAAC,EAAC;YACrB,IAAI,QAAQ,GAAQ,CAAC,CAAC;SACvB;aAAI;YACH,IAAI,QAAQ,GAAS,IAAI,CAAC,SAAS,CAAC;SACrC;QACD,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,EAAC,MAAM,EAAC,QAAQ,EAAC,cAAc,EAAC,CAAC,IAAI,CAAC,WAAW,CAAC,EAAC,CAAC,CAAC,SAAS,CAC7F,CAAC,IAAS,EAAE,EAAE;YACZ,IAAG,IAAI,CAAC,MAAM,IAAI,SAAS,EAAC;gBACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBACtB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;gBACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;gBACjC,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC3C,IAAG,IAAI,CAAC,SAAS,IAAI,CAAC,EAAC;oBACrB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;oBAEzE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,IAAI,EAAE,KAAK,EAAC,CAAC,CAAC;iBACxD;qBAAI;oBACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC/D,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBAE5E,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,WAAW,EAAG,MAAM,EAAE,SAAS,EAAG,IAAI,CAAC,SAAS,EAAC,CAAC,CAAC;iBACpG;aACJ;QACH,CAAC,EACD,GAAG,GAAE;YACH,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,0CAA0C,CAAC,CAAC;QAC9E,CAAC,CAAC,CAAC;IACP,CAAC;IACD,WAAW;QACT,IAAG,IAAI,CAAC,OAAO,IAAI,EAAE,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAC;YAC5C,IAAG,CAAC,IAAI,CAAC,WAAW,EAAC;gBACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAChD;iBAAK,IAAG,IAAI,CAAC,WAAW,IAAK,IAAI,CAAC,SAAS,IAAI,CAAC,EAAC;gBAChD,YAAY;gBACZ,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACrC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAC,CAAC,CAAC;aAC/D;iBAAK,IAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,EAAC;gBACrE,cAAc;gBACd,OAAO,CAAC,GAAG,CAAC,UAAU,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACvC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,WAAW,EAAG,IAAI,CAAC,WAAW,EAAE,SAAS,EAAG,IAAI,CAAC,SAAS,EAAC,CAAC,CAAC;aACrH;YACH,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;SACjB;QACD,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IACD,MAAM;QACJ,4BAA4B;QAC5B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACtB,CAAC;IACD,gBAAgB;QACd,4BAA4B;QAC5B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;IACD,WAAW;QACT,4BAA4B;QAC5B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;CACF;;YAzI+B,8DAAc;YACZ,+EAAiB;YACpB,4DAAa;YACd,oDAAM;YACA,yEAAW;YACT,sEAAa;YACZ,wEAAc;;AAzBU;IAA5D,+DAAS,CAAC,yDAAU,EAAE,EAAE,IAAI,EAAE,yDAAU,EAAG,MAAM,EAAE,KAAK,EAAE,CAAC;oEAAc,yDAAU;qDAAC;AACtB;IAA9D,+DAAS,CAAC,0DAAW,EAAE,EAAE,IAAI,EAAE,0DAAW,EAAG,MAAM,EAAE,KAAK,EAAE,CAAC;oEAAc,0DAAW;qDAAC;AAF7E,gBAAgB;IAL5B,+DAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,uOAAwC;;KAEzC,CAAC;2EAqB8B,8DAAc;QACZ,+EAAiB;QACpB,4DAAa;QACd,oDAAM;QACA,yEAAW;QACT,sEAAa;QACZ,wEAAc;GA1BxC,gBAAgB,CA6J5B;AA7J4B","file":"chats-first-message-first-message-module-es2015.js","sourcesContent":["export default \"<ion-header class=\\\"top-header ion-no-padding\\\" translucent>\\r\\n  <ion-list class=\\\"top-heading three-block\\\">\\r\\n    <ion-item slot=\\\"start\\\">\\r\\n      <ion-buttons slot=\\\"start\\\" class=\\\"ion-no-margin\\\" (click)=\\\"goBack()\\\">\\r\\n        <ion-icon ios=\\\"ios-arrow-back\\\" md=\\\"md-arrow-back\\\"></ion-icon>\\r\\n      </ion-buttons>\\r\\n      <ion-avatar slot=\\\"start\\\">\\r\\n        <img class=\\\"user-img\\\" [defaultImage] = \\\"profileDefaultImage\\\" [lazyLoad]=\\\"imageDisplay\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-label>\\r\\n        <h3 class=\\\"list-person\\\">{{nameDisplay |titlecase}}</h3>\\r\\n      </ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item class=\\\"icon-right-side ion-text-end\\\" slot=\\\"end\\\"></ion-item>\\r\\n  </ion-list>\\r\\n</ion-header>\\r\\n<ion-content  class=\\\"main_content\\\" id=\\\"contentArea\\\">\\r\\n  <div>\\r\\n    <ion-list class=\\\"chats-list\\\" lines=\\\"none\\\">\\r\\n      <ion-item class=\\\"chat-box\\\">\\r\\n        <div class=\\\"ion-text-center\\\">\\r\\n          <ion-label class=\\\"message-label\\\">Say hi to {{nameDisplay |titlecase}}</ion-label>\\r\\n        </div>\\r\\n      </ion-item>   \\r\\n      <div *ngFor=\\\"let mess of messages\\\">   \\r\\n        <!--Private Chat-->\\r\\n        <ion-item class=\\\"chat-box chat-right\\\" *ngIf=\\\"mess.user ==  userData?.id &&  mess.sendTo == receiver_id\\\">\\r\\n          <div class=\\\"ion-text-end\\\">\\r\\n            <ion-label class=\\\"message-label\\\">{{ mess.msg }}</ion-label>\\r\\n            <span class=\\\"chat-time\\\">{{ mess.createdAt | date:'shortTime' }}<ion-icon ios=\\\"ios-done-all\\\" md=\\\"md-done-all\\\" [ngClass]=\\\"text-green\\\"></ion-icon></span>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"chat-box chat-left\\\" *ngIf=\\\"mess.user !== userData?.id && mess.sendTo == userData?.id\\\">\\r\\n          <div class=\\\"ion-text-start\\\">\\r\\n            <ion-label class=\\\"message-label\\\">{{ mess.msg }}</ion-label>\\r\\n            <span class=\\\"chat-time\\\">{{ mess.createdAt | date:'shortTime' }}</span>\\r\\n          </div>\\r\\n        </ion-item> \\r\\n        <!--Group Chat-->\\r\\n        <ion-item class=\\\"chat-box chat-right\\\" *ngIf=\\\"mess.user ==  userData?.id && chat_type == 3\\\">\\r\\n          <div class=\\\"ion-text-end\\\">\\r\\n            <ion-label class=\\\"message-label\\\">{{ mess.msg }}</ion-label>\\r\\n            <span class=\\\"chat-time\\\">{{ mess.createdAt | date:'shortTime' }}<ion-icon ios=\\\"ios-done-all\\\" md=\\\"md-done-all\\\" [ngClass]=\\\"text-green\\\"></ion-icon></span>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n        <ion-item class=\\\"chat-box chat-left\\\" *ngIf=\\\"mess.user !== userData?.id && chat_type == 3\\\">\\r\\n          <div class=\\\"ion-text-start\\\">\\r\\n            <ion-label class=\\\"message-label\\\">{{ mess.msg }}</ion-label>\\r\\n            <span class=\\\"chat-time\\\">{{ mess.createdAt | date:'shortTime' }}</span>\\r\\n          </div>\\r\\n        </ion-item>\\r\\n      </div>    \\r\\n    </ion-list>    \\r\\n  </div>\\r\\n</ion-content>\\r\\n<ion-footer class=\\\"sticky-footer\\\">\\r\\n  <ion-item lines=\\\"none\\\">   \\r\\n    <ion-textarea [(ngModel)]=\\\"message\\\" id=\\\"sendmessage\\\" placeholder=\\\"Type here..\\\"></ion-textarea>\\r\\n    <img src=\\\"../../assets/images/send.svg\\\" class=\\\"send-img\\\"  (click)=\\\"sendMessage()\\\">\\r\\n  </ion-item>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FirstMessagePage } from './first-message.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FirstMessagePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FirstMessagePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FirstMessagePageRoutingModule } from './first-message-routing.module';\r\n\r\nimport { FirstMessagePage } from './first-message.page';\r\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FirstMessagePageRoutingModule,LazyLoadImageModule\r\n  ],\r\n  declarations: [FirstMessagePage]\r\n})\r\nexport class FirstMessagePageModule {}\r\n","export default \".main_content {\\n  background: url('chat-bg.png') repeat;\\n  --background: transparent;\\n  background-size: cover; }\\n\\n.icon-right-side ion-button {\\n  --padding-start:0;\\n  --padding-end:0;\\n  --background:transparent;\\n  --background-focused:transparent;\\n  --background-hover:transparent;\\n  --box-shadow:none; }\\n\\n.top-heading ion-item ion-avatar {\\n  margin-left: 8px;\\n  margin-right: 8px; }\\n\\n.sticky-footer .send-img {\\n  width: 26px; }\\n\\n.chats-list {\\n  --background:transparent;\\n  background: transparent; }\\n\\n.chats-list ion-item {\\n  --background:transparent;\\n  background: transparent;\\n  margin-bottom: 5px; }\\n\\n.chats-list ion-item > div {\\n  width: 100%; }\\n\\n.chat-box {\\n  height: auto !important; }\\n\\n.chat-box ion-label {\\n  margin: 0;\\n  padding: 5px 8px;\\n  border-radius: 4px;\\n  font-size: .75rem;\\n  color: #000;\\n  white-space: normal;\\n  display: inline-block;\\n  line-height: 1.5; }\\n\\n.chat-box span {\\n  color: #909090;\\n  font-size: 0.70rem;\\n  display: flex;\\n  align-items: center; }\\n\\n.chat-left ion-label {\\n  background: #e3e6e6;\\n  margin-right: 55px; }\\n\\n.chat-left span {\\n  justify-content: flex-start; }\\n\\n.chat-right ion-label {\\n  background: #32ab9f;\\n  color: #FFF;\\n  margin-left: 55px; }\\n\\n.chat-right span {\\n  justify-content: flex-end; }\\n\\n.chat-duration {\\n  position: relative;\\n  text-align: center; }\\n\\n.chat-duration::after {\\n  content: '';\\n  width: 100%;\\n  height: 1px;\\n  background: #ccc;\\n  display: block;\\n  position: relative;\\n  top: -8px; }\\n\\n.chat-duration span {\\n  background: #f9f9f9;\\n  position: relative;\\n  z-index: 9;\\n  padding: 2px 10px;\\n  border-radius: 4px; }\\n\\n.ios .chats-list {\\n  padding-top: 8px;\\n  padding-bottom: 8px; }\\n\\n.ios .chat-box span {\\n  font-size: 0.65rem; }\\n\\n.ios .chat-box span ion-icon {\\n  font-size: 1rem; }\\n\\n.main_content {\\n  max-height: calc(100vh - 115px); }\\n\\n.message-label {\\n  white-space: pre-wrap !important;\\n  text-align: left; }\\n\\n.top-header {\\n  top: 10px !important;\\n  height: 60px !important;\\n  max-height: 60px !important; }\\n\\n.main_content {\\n  top: 70px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hhdHMvZmlyc3QtbWVzc2FnZS9DOlxceGFtcHBcXGh0ZG9jc1xcaW50b2FjdGl2ZVxcQk0vc3JjXFxhcHBcXGNoYXRzXFxmaXJzdC1tZXNzYWdlXFxmaXJzdC1tZXNzYWdlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFjLHFDQUEwRDtFQUFFLHlCQUFhO0VBQWEsc0JBQXNCLEVBQUE7O0FBQzFIO0VBQTRCLGlCQUFnQjtFQUFFLGVBQWM7RUFBRSx3QkFBYTtFQUFZLGdDQUFxQjtFQUFZLDhCQUFtQjtFQUFZLGlCQUFhLEVBQUE7O0FBQ3BLO0VBQWlDLGdCQUFnQjtFQUFDLGlCQUFpQixFQUFBOztBQUduRTtFQUF5QixXQUFXLEVBQUE7O0FBRXBDO0VBQVksd0JBQWE7RUFBWSx1QkFBdUIsRUFBQTs7QUFDNUQ7RUFBcUIsd0JBQWE7RUFBWSx1QkFBdUI7RUFBQyxrQkFBa0IsRUFBQTs7QUFDeEY7RUFBeUIsV0FBVyxFQUFBOztBQUNwQztFQUFVLHVCQUF1QixFQUFBOztBQUNqQztFQUFvQixTQUFRO0VBQUMsZ0JBQWU7RUFBQyxrQkFBaUI7RUFBQyxpQkFBZ0I7RUFBQyxXQUFXO0VBQUMsbUJBQW1CO0VBQUMscUJBQXFCO0VBQUMsZ0JBQWdCLEVBQUE7O0FBQ3RKO0VBQWUsY0FBYztFQUFDLGtCQUFrQjtFQUFDLGFBQWE7RUFBQyxtQkFBbUIsRUFBQTs7QUFDbEY7RUFBcUIsbUJBQWtCO0VBQUMsa0JBQWtCLEVBQUE7O0FBQzFEO0VBQWdCLDJCQUEyQixFQUFBOztBQUMzQztFQUFzQixtQkFBa0I7RUFBQyxXQUFXO0VBQUMsaUJBQWlCLEVBQUE7O0FBQ3RFO0VBQWlCLHlCQUF5QixFQUFBOztBQUMxQztFQUFlLGtCQUFrQjtFQUFDLGtCQUFrQixFQUFBOztBQUNwRDtFQUFzQixXQUFXO0VBQUMsV0FBVztFQUFDLFdBQVc7RUFBQyxnQkFBZ0I7RUFBQyxjQUFjO0VBQUMsa0JBQWtCO0VBQUMsU0FBUyxFQUFBOztBQUN0SDtFQUFvQixtQkFBbUI7RUFBQyxrQkFBa0I7RUFBQyxVQUFVO0VBQUMsaUJBQWlCO0VBQUMsa0JBQWtCLEVBQUE7O0FBRTFHO0VBQ2dCLGdCQUFnQjtFQUFDLG1CQUFtQixFQUFBOztBQURwRDtFQUVtQixrQkFBa0IsRUFBQTs7QUFGckM7RUFHNEIsZUFBZSxFQUFBOztBQUczQztFQUFjLCtCQUErQixFQUFBOztBQUM3QztFQUNJLGdDQUFnQztFQUNoQyxnQkFBZ0IsRUFBQTs7QUFFcEI7RUFDSSxvQkFBb0I7RUFDcEIsdUJBQXVCO0VBQ3ZCLDJCQUEyQixFQUFBOztBQUUvQjtFQUNJLG9CQUFvQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvY2hhdHMvZmlyc3QtbWVzc2FnZS9maXJzdC1tZXNzYWdlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluX2NvbnRlbnR7YmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvY2hhdC1iZy5wbmcpIHJlcGVhdDsgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO31cclxuLmljb24tcmlnaHQtc2lkZSBpb24tYnV0dG9uey0tcGFkZGluZy1zdGFydDowOy0tcGFkZGluZy1lbmQ6MDstLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7LS1iYWNrZ3JvdW5kLWZvY3VzZWQ6dHJhbnNwYXJlbnQ7LS1iYWNrZ3JvdW5kLWhvdmVyOnRyYW5zcGFyZW50Oy0tYm94LXNoYWRvdzpub25lfVxyXG4udG9wLWhlYWRpbmcgaW9uLWl0ZW0gaW9uLWF2YXRhcnttYXJnaW4tbGVmdDogOHB4O21hcmdpbi1yaWdodDogOHB4O31cclxuXHJcbi8vIGNzcyBmb3IgZm9vdGVyXHJcbi5zdGlja3ktZm9vdGVyIC5zZW5kLWltZ3t3aWR0aDogMjZweDt9XHJcblxyXG4uY2hhdHMtbGlzdHstLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7fVxyXG4uY2hhdHMtbGlzdCBpb24taXRlbXstLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7bWFyZ2luLWJvdHRvbTogNXB4O31cclxuLmNoYXRzLWxpc3QgaW9uLWl0ZW0+ZGl2e3dpZHRoOiAxMDAlO31cclxuLmNoYXQtYm94e2hlaWdodDogYXV0byAhaW1wb3J0YW50O31cclxuLmNoYXQtYm94IGlvbi1sYWJlbHttYXJnaW46MDtwYWRkaW5nOjVweCA4cHg7Ym9yZGVyLXJhZGl1czo0cHg7Zm9udC1zaXplOi43NXJlbTtjb2xvcjogIzAwMDt3aGl0ZS1zcGFjZTogbm9ybWFsO2Rpc3BsYXk6IGlubGluZS1ibG9jaztsaW5lLWhlaWdodDogMS41O31cclxuLmNoYXQtYm94IHNwYW57Y29sb3I6ICM5MDkwOTA7Zm9udC1zaXplOiAwLjcwcmVtO2Rpc3BsYXk6IGZsZXg7YWxpZ24taXRlbXM6IGNlbnRlcjt9XHJcbi5jaGF0LWxlZnQgaW9uLWxhYmVse2JhY2tncm91bmQ6I2UzZTZlNjttYXJnaW4tcmlnaHQ6IDU1cHg7fVxyXG4uY2hhdC1sZWZ0IHNwYW57anVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O31cclxuLmNoYXQtcmlnaHQgaW9uLWxhYmVse2JhY2tncm91bmQ6IzMyYWI5Zjtjb2xvcjogI0ZGRjttYXJnaW4tbGVmdDogNTVweDt9XHJcbi5jaGF0LXJpZ2h0IHNwYW57anVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDt9XHJcbi5jaGF0LWR1cmF0aW9ue3Bvc2l0aW9uOiByZWxhdGl2ZTt0ZXh0LWFsaWduOiBjZW50ZXI7fVxyXG4uY2hhdC1kdXJhdGlvbjo6YWZ0ZXJ7Y29udGVudDogJyc7d2lkdGg6IDEwMCU7aGVpZ2h0OiAxcHg7YmFja2dyb3VuZDogI2NjYztkaXNwbGF5OiBibG9jaztwb3NpdGlvbjogcmVsYXRpdmU7dG9wOiAtOHB4O31cclxuLmNoYXQtZHVyYXRpb24gc3BhbntiYWNrZ3JvdW5kOiAjZjlmOWY5O3Bvc2l0aW9uOiByZWxhdGl2ZTt6LWluZGV4OiA5O3BhZGRpbmc6IDJweCAxMHB4O2JvcmRlci1yYWRpdXM6IDRweDt9XHJcblxyXG4uaW9ze1xyXG4gICAgLmNoYXRzLWxpc3R7cGFkZGluZy10b3A6IDhweDtwYWRkaW5nLWJvdHRvbTogOHB4O31cclxuICAgIC5jaGF0LWJveCBzcGFue2ZvbnQtc2l6ZTogMC42NXJlbTt9XHJcbiAgICAuY2hhdC1ib3ggc3BhbiBpb24taWNvbntmb250LXNpemU6IDFyZW07fVxyXG59XHJcblxyXG4ubWFpbl9jb250ZW50e21heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSAxMTVweCk7fVxyXG4ubWVzc2FnZS1sYWJlbHtcclxuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcCAhaW1wb3J0YW50O1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxufVxyXG4udG9wLWhlYWRlcntcclxuICAgIHRvcDogMTBweCAhaW1wb3J0YW50O1xyXG4gICAgaGVpZ2h0OiA2MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBtYXgtaGVpZ2h0OiA2MHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuLm1haW5fY29udGVudHtcclxuICAgIHRvcDogNzBweCAhaW1wb3J0YW50O1xyXG59Il19 */\"","import { Component, OnInit,ViewChild,AfterViewInit,OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, ParamMap} from '@angular/router';\r\nimport { IonContent,IonTextarea,NavController } from '@ionic/angular';\r\nimport { PeopleViewService } from \"../../services/people-view.service\";\r\nimport { Config } from './../../config/config';\r\nimport { Socket } from 'ngx-socket-io';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { CommonService } from '../../services/common.service';\r\nimport { ProgramService } from './../../services/program.service'\r\n\r\n@Component({\r\n  selector: 'app-first-message',\r\n  templateUrl: './first-message.page.html',\r\n  styleUrls: ['./first-message.page.scss','./../../app.component.scss'],\r\n})\r\nexport class FirstMessagePage implements OnInit,AfterViewInit,OnDestroy {\r\n  @ViewChild(IonContent, { read: IonContent,  static: false }) contentArea: IonContent;\r\n  @ViewChild(IonTextarea, { read: IonTextarea,  static: false }) sendmessage: IonTextarea;\r\n  userData:any;\r\n  chat_type:any = 0;\r\n  receiver_id : any;\r\n  nameDisplay : any;\r\n  imageDisplay : any;\r\n  message = '';\r\n  messages :any = [];\r\n  blockstatus : any = 0;\r\n  bidOUser : any;\r\n  bSOUser :any;\r\n  room :any = 'firstMessage';\r\n  createdRoom : any;\r\n  requestId :any = 0;\r\n  programDetail : any;\r\n  profilePicUrl: any = Config.profilePic;\r\n  url = Config.imgUrl;\r\n  profileDefaultImage = './../../../assets/images/user.jpg';\r\n  constructor(private actRoute: ActivatedRoute,\r\n              private peopleView: PeopleViewService,\r\n              private navCtrl: NavController,\r\n              private socket: Socket,\r\n              private chatservice : ChatService,\r\n              private commonService : CommonService,\r\n              private programService : ProgramService) { }\r\n  ngOnInit() {\r\n    // connect ot socket.io\r\n    // this.socket.connect();\r\n    this.userData = JSON.parse(localStorage.getItem('userData'));\r\n    this.actRoute.paramMap.subscribe((params: ParamMap) => {\r\n      this.chat_type = parseInt(params.get('chat_type'));\r\n      console.log(\"this.chat_type :\" + this.chat_type);\r\n      // chat_type = 1:consultant,2:user,3:program\r\n      if(this.chat_type == 1){\r\n        this.receiver_id = params.get('id');\r\n        this.peopleView.getUserData({ 'userId': this.receiver_id }).subscribe((data: any) => {\r\n          this.nameDisplay = data.userData.user_name;\r\n          this.imageDisplay = this.profilePicUrl+data.userData.bios.profile_pic;\r\n        });        \r\n      }else if(this.chat_type == 2){\r\n        this.receiver_id = params.get('id');\r\n        this.peopleView.getUserData({ 'userId': this.receiver_id }).subscribe((data: any) => {\r\n          this.nameDisplay = data.userData.user_name;\r\n          this.imageDisplay = this.profilePicUrl+data.userData.bios.profile_pic;\r\n        });        \r\n      }else if(this.chat_type == 3){\r\n        this.receiver_id = params.get('id');\r\n        this.programService.getProgramById({ \"programId\": this.receiver_id }).subscribe(data => {\r\n          this.programDetail = data.programData;\r\n          this.nameDisplay = data.programData.title;\r\n          if(data.programData.image_path){\r\n            this.programDetail.img_array =data.programData.image_path.split(','); \r\n            this.imageDisplay = this.url + this.programDetail.img_array[0];\r\n          }          \r\n        });\r\n      }      \r\n      if(this.chat_type != 3){  \r\n          //Private chat\r\n          console.log(\"private chat type : firstMessage\");\r\n          // this.socket.emit('set-name', this.userData.id,'firstMessage');\r\n          // this.socket.emit(\"addUser\", this.userData.id,this.receiver_id);\r\n          // this.socket.emit(\"newUser\", [this.userData.id,this.receiver_id, this.room]);          \r\n      }else{\r\n        //Group chat\r\n        console.log(\"group chat type : programMessage\");\r\n        // this.socket.emit('set-name', this.userData.id,'programMessage');\r\n        // this.socket.emit(\"newGroup\", this.userData.id,this.requestId, this.room);\r\n      }\r\n    });    \r\n  }\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n          this.sendmessage.setFocus();\r\n    }, 400);\r\n  }\r\n  ionViewWillEnter(){\r\n    if(this.chat_type != 3){\r\n      console.log('private message');\r\n      this.socket.fromEvent('message').subscribe(receiveMessageArr => {\r\n        console.log(\"private receiveMessageArr:\" + JSON.stringify(receiveMessageArr));\r\n        this.messages.push(receiveMessageArr);\r\n        this.contentArea.scrollToBottom();\r\n      });  \r\n    }else{\r\n    console.log('group message');\r\n    this.socket.fromEvent('groupmessage').subscribe(receiveMessageArr => {\r\n      console.log(\"GroupreceiveMessageArr:\" + JSON.stringify(receiveMessageArr));\r\n      this.messages.push(receiveMessageArr);\r\n      this.contentArea.scrollToBottom();\r\n    });  \r\n  }\r\n  }\r\n  createRoom(massa : any,blocks : any){\r\n    if(this.chat_type != 3){\r\n      var chatType :any = 1;\r\n    }else{\r\n      var chatType : any = this.chat_type;\r\n    }\r\n    this.chatservice.sendChatRequest({'type':chatType,'peopleSelect':[this.receiver_id]}).subscribe(\r\n      (data: any) => {\r\n        if(data.status == 'success'){          \r\n            this.room = data.room;\r\n            this.requestId = data.request_id;\r\n            this.createdRoom = true;\r\n            console.log(\"Room:\" + this.room);\r\n            console.log(\"requestId:\" + this.requestId);\r\n            if(this.chat_type == 3){\r\n              this.socket.emit(\"newGroup\", this.userData.id,this.requestId, this.room);\r\n\r\n              this.socket.emit('send-group-message', { text: massa});\r\n            }else{              \r\n              this.socket.emit(\"addUser\", this.userData.id,this.receiver_id);\r\n              this.socket.emit(\"newUser\", [this.userData.id,this.receiver_id, this.room]); \r\n\r\n              this.socket.emit('send-message', { text: massa, blockstatus : blocks, requestId : this.requestId});\r\n            }\r\n        }\r\n      },\r\n      err=> {\r\n        this.commonService.presentToast(\"Couldnt load data, Something went wrong.\");\r\n      });\r\n  }  \r\n  sendMessage() {    \r\n    if(this.message != '' && this.message != null){         \r\n      if(!this.createdRoom){       \r\n        this.createRoom(this.message,this.blockstatus);\r\n      }else if(this.createdRoom &&  this.chat_type == 3){\r\n        //Group Chat\r\n        console.log(\"Group:\"+this.chat_type);\r\n        this.socket.emit('send-group-message', { text: this.message});        \r\n      }else if(this.createdRoom && this.requestId > 0 && this.chat_type != 3){     \r\n        //Private Chat\r\n        console.log(\"Private:\"+this.chat_type);\r\n        this.socket.emit('send-message', { text: this.message, blockstatus : this.blockstatus, requestId : this.requestId});\r\n      }\r\n    this.message = '';\r\n    }\r\n    this.sendmessage.setFocus();\r\n  }\r\n  goBack() {    \r\n    // this.socket.disconnect();\r\n    this.messages = [];    \r\n    this.chat_type = '';\r\n    this.navCtrl.back();\r\n  }\r\n  ionViewWillLeave() {\r\n    // this.socket.disconnect();\r\n    this.messages = [];\r\n    this.chat_type = '';\r\n  }\r\n  ngOnDestroy(){\r\n    // this.socket.disconnect();\r\n    this.messages = [];\r\n    this.chat_type = '';\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}