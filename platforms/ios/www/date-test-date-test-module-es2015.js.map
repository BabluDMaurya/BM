{"version":3,"sources":["./src/app/date-test/date-test.page.html","./src/app/date-test/date-test-routing.module.ts","./src/app/date-test/date-test.module.ts","./src/app/date-test/date-test.page.scss","./src/app/date-test/date-test.page.ts"],"names":[],"mappings":"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","file":"date-test-date-test-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Ionic Opentok</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n\\r\\n  <!-- Search Bar -->\\r\\n  <!-- <ion-searchbar placeholder=\\\"Filter Schedules\\\" [(ngModel)]=\\\"term\\\" animated=\\\"true\\\"></ion-searchbar> -->\\r\\n\\r\\n  <!-- List Items -->\\r\\n  <!-- <ion-list>\\r\\n    <ion-item *ngFor=\\\"let item of filterData | filter:term\\\">\\r\\n      <ion-label>{{item.firstName}} {{item.lastName}}</ion-label>\\r\\n    </ion-item>\\r\\n  </ion-list> -->\\r\\n  <div style=\\\"text-align:center\\\">\\r\\n    <button (click)=\\\"startCall()\\\">Start OpenTok Call</button>\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"subscriber\\\"></div>\\r\\n  <div id=\\\"publisher\\\"></div> \\r\\n  <div style=\\\"text-align:center\\\">\\r\\n    <button (click)=\\\"unPublish()\\\">Publish Close OpenTok</button>\\r\\n  </div>\\r\\n  <div style=\\\"text-align:center\\\">\\r\\n    <button (click)=\\\"closeSession()\\\">Close OpenTok</button>\\r\\n  </div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DateTestPage } from './date-test.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DateTestPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DateTestPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DateTestPageRoutingModule } from './date-test-routing.module';\r\n\r\nimport { DateTestPage } from './date-test.page';\r\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    DateTestPageRoutingModule,\r\n    Ng2SearchPipeModule,\r\n  ],\r\n  declarations: [DateTestPage]\r\n})\r\nexport class DateTestPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RhdGUtdGVzdC9kYXRlLXRlc3QucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ProgramService } from '../services/program.service';\r\ndeclare var OT:any;\r\n@Component({\r\n  selector: 'app-date-test',\r\n  templateUrl: './date-test.page.html',\r\n  styleUrls: ['./date-test.page.scss'],\r\n})\r\nexport class DateTestPage implements OnInit {\r\n  // term = '';\r\n  // filterData = [\r\n  //   {\r\n  //     firstName: 'Celestine',\r\n  //     lastName: 'Schimmel',\r\n  //     address: '7687 Jadon Port'\r\n  //   },\r\n  //   {\r\n  //     firstName: 'Johan',\r\n  //     lastName: 'Ziemann PhD',\r\n  //     address: '156 Streich Ports'\r\n  //   },\r\n  //   {\r\n  //     firstName: 'Lizzie',\r\n  //     lastName: 'Schumm',\r\n  //     address: '5203 Jordon Center'\r\n  //   },\r\n  //   {\r\n  //     firstName: 'Gavin',\r\n  //     lastName: 'Leannon',\r\n  //     address: '91057 Davion Club'\r\n  //   },\r\n  //   {\r\n  //     firstName: 'Lucious',\r\n  //     lastName: 'Leuschke',\r\n  //     address: '16288 Reichel Harbor'\r\n  //   }\r\n  // ]\r\n  session: any;\r\n  publisher: any;\r\n  apiKey: string;\r\n  sessionId: string;\r\n  token: string;\r\n  constructor(public programService : ProgramService) {\r\n    this.sessionId = '1_MX40NzA4MDA1NH5-MTYxMDU0ODQyMzczMX43T0daVCtIbkRNZHVCc01oVW5sRUdtM01-fg';\r\n      this.token = 'T1==cGFydG5lcl9pZD00NzA4MDA1NCZzaWc9MmE3ZTM5Y2M4NjQxMjE0M2MzMzNkMjVlMmIxNDdmNWI4NGY0N2YyZDpzZXNzaW9uX2lkPTFfTVg0ME56QTRNREExTkg1LU1UWXhNRFUwT0RReU16Y3pNWDQzVDBkYVZDdElia1JOWkhWQ2MwMW9WVzVzUlVkdE0wMS1mZyZjcmVhdGVfdGltZT0xNjEwNTQ4NDIzJnJvbGU9cHVibGlzaGVyJm5vbmNlPTE2MTA1NDg0MjMuODU1MTE3MDM0MTg1MzMmaW5pdGlhbF9sYXlvdXRfY2xhc3NfbGlzdD0=';\r\n      this.apiKey = '47080054';\r\n    // this.programService.openTokSessionCreate({'time': 10}).subscribe( (data: any) => {\r\n    //   this.sessionId = data.opentok_session_id;\r\n    //   this.token = data.opentok_token;\r\n    //   this.apiKey = data.opentok_api_key;\r\n      \r\n    //   // console.log('Data:'+JSON.stringify(data));\r\n    //   console.log('sessionId:'+this.sessionId);\r\n    //   console.log('token:'+this.token);\r\n    //   console.log('apiKey:'+this.apiKey);\r\n    // });\r\n  }\r\n\r\n  ngOnInit() {}  \r\n  startCall() {\r\n    this.session = OT.initSession(this.apiKey, this.sessionId);\r\n    this.publisher = OT.initPublisher('publisher');\r\n    this.session.on({\r\n      streamCreated: (event: any) => {\r\n        this.session.subscribe(event.stream, 'subscriber');\r\n        OT.updateViews();\r\n      },\r\n      streamDestroyed: (event: any) => {\r\n        console.log(`Stream ${event.stream.name} ended because ${event.reason}`);\r\n        OT.updateViews();        \r\n      },\r\n      sessionConnected: (event: any) => {\r\n        this.session.publish(this.publisher);\r\n      }\r\n    });\r\n\r\n    this.session.connect(this.token, (error: any) => {\r\n      if (error) {\r\n        console.log(`There was an error connecting to the session ${error}`);\r\n      }\r\n    });\r\n    this.publisher.on(\"streamDestroyed\", function (event) {\r\n      event.preventDefault();\r\n      console.log(\"The publisher stopped streaming. Reason: \"\r\n        + event.reason);\r\n    });\r\n  }\r\n  unPublish(){\r\n    console.log(`publisher close`);\r\n    this.session.unpublish(this.publisher);\r\n  }\r\n  closeSession(){\r\n    console.log(`session close`);\r\n    this.session.disconnect();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}