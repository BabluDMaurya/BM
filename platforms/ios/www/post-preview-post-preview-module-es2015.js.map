{"version":3,"sources":["./src/app/post-preview/post-preview.page.html","./src/app/post-preview/post-preview-routing.module.ts","./src/app/post-preview/post-preview.module.ts","./src/app/post-preview/post-preview.page.scss","./src/app/post-preview/post-preview.page.ts"],"names":[],"mappings":"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","file":"post-preview-post-preview-module-es2015.js","sourcesContent":["export default \"<ion-header class=\\\"top-header ion-no-padding\\\">\\r\\n  <ion-list class=\\\"top-heading three-block\\\">\\r\\n    <ion-item slot=\\\"start\\\">\\r\\n      <ion-buttons class=\\\"ion-no-margin\\\">\\r\\n        <ion-icon ios=\\\"ios-arrow-back\\\" md=\\\"md-arrow-back\\\" (click)=\\\"goBack()\\\"></ion-icon>\\r\\n      </ion-buttons>\\r\\n    </ion-item>\\r\\n    <ion-item slot=\\\"center\\\">\\r\\n      <ion-label>Image Post</ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item class=\\\"icon-right-side ion-text-end\\\" slot=\\\"end\\\"></ion-item>\\r\\n  </ion-list>\\r\\n</ion-header>\\r\\n<ion-content class=\\\"main_content\\\" >\\r\\n  <ion-list-header class=\\\"grey-header\\\" *ngIf=\\\"postData?.post_user?.id\\\">See more from {{postData?.post_user?.user_name}}\\r\\n    <!-- <a [routerLink]=\\\"['/tabs/images' , postData?.post_user?.id ]\\\" size=\\\"small\\\">View All</a> -->\\r\\n    <ion-button [routerLink]=\\\"['/tabs/images' , postData?.post_user?.id]\\\" size=\\\"small\\\" class=\\\"green\\\">View All</ion-button>\\r\\n  </ion-list-header>\\r\\n  <ion-card class=\\\"item-card\\\" *ngIf=\\\"!skeleton\\\">\\r\\n    <ion-card-header class=\\\"item-header\\\">\\r\\n      <ion-avatar>\\r\\n        <img src=\\\"{{profile_url}}{{postData?.post_user?.bios?.profile_pic}}\\\" *ngIf=\\\"postData?.post_user?.bios?.profile_pic\\\">\\r\\n        <img src=\\\"../../assets/images/user.jpg\\\" *ngIf=\\\"!postData?.post_user?.bios?.profile_pic\\\"> \\r\\n      </ion-avatar> \\r\\n        <div class=\\\"header-right\\\">  \\r\\n        <ion-label>\\r\\n          <ion-card-title>{{postData?.post_user?.user_name}}</ion-card-title>\\r\\n          <ion-card-subtitle>{{postData?.post_user?.location}}</ion-card-subtitle>       \\r\\n        </ion-label>\\r\\n        <ion-text class=\\\"post-timedate\\\"><p class=\\\"post-date\\\">{{postData?.created_at}}</p></ion-text> \\r\\n      </div>   \\r\\n    </ion-card-header>\\r\\n    <ion-card-content class=\\\"ion-no-padding item-content\\\">\\r\\n      <ion-thumbnail *ngIf=\\\"postData?.image_post['0']['thumb_path']\\\">\\r\\n        <ion-slides [options]=\\\"postSlider\\\" class=\\\"post-slider\\\" [pager]=\\\"postData?.image_post['0']['thumb_path'].length >1 ? true : false\\\">\\r\\n          <ion-slide *ngFor=\\\"let imgpath of postData?.image_post['0']['thumb_path']; let i =index;\\\">\\r\\n            <img (click)=\\\"openViewer(postData?.image_post['0']['thumb_path'][i])\\\" src=\\\"{{url}}{{imgpath}}\\\" alt=\\\"{{imgpath}}\\\" />\\r\\n          </ion-slide>\\r\\n        </ion-slides>\\r\\n      </ion-thumbnail>   \\r\\n      <div class=\\\"post-content\\\">\\r\\n        <ion-list class=\\\"item-post\\\" lines=\\\"none\\\">\\r\\n          <ion-item>\\r\\n            <div [routerLink]=\\\"['/comments',consultID]\\\" *ngIf = \\\"postData?.post_user?.comment_disable == 0\\\">\\r\\n              <ion-icon ios=\\\"ios-chatbubbles\\\" md=\\\"md-chatbubbles\\\"></ion-icon> <span>{{postData?.total_comments.length}}</span>\\r\\n            </div>\\r\\n            <div (click)=\\\"liked(postData?.id,postData.liked)\\\" class=\\\"{{ postData?.liked ?'active':'inactive' }}\\\">\\r\\n              <ion-icon class=\\\"like-icon\\\" ios=\\\"ios-heart\\\" md=\\\"md-heart\\\"></ion-icon> <span>{{postData?.count}}</span>\\r\\n            </div>\\r\\n          </ion-item>\\r\\n          <!-- --------------- bookmark for only  othepost on own -------->\\r\\n          <ion-item *ngIf=\\\"postData?.post_type==1 && postData?.allowBookmark\\\">\\r\\n         \\r\\n              <div (click)=\\\"bookmarked(postData?.id , postData?.bookmarked , 1)\\\" class=\\\"{{ postData?.bookmarked ?'active':'inactive' }}\\\">\\r\\n                <ion-icon class=\\\"active-icon\\\" ios=\\\"ios-bookmark\\\" md=\\\"md-bookmark\\\"></ion-icon>\\r\\n              </div>\\r\\n           \\r\\n          </ion-item>\\r\\n        </ion-list>\\r\\n         <!-- --------------- bookmark ends here------------ -->\\r\\n       <!-- -------  Description for  I-M-A-G-E  post with  post type = 1-->\\r\\n       <div *ngIf=\\\"postData?.post_type==1\\\">\\r\\n        <p *ngIf=\\\"postData?.image_post['0']['description'] && postData?.image_post['0']['description'].length < 30\\\"><span\\r\\n            class=\\\"username-text text-green\\\">{{postData.post_user.user_name}}</span>{{postData?.image_post['0']['description'].substr(0, 100)}}\\r\\n        </p>\\r\\n        <p\\r\\n          *ngIf=\\\"postData?.image_post['0']['description'] && postData?.image_post['0']['description'].length > 29 && expanded !=  postData.id\\\">\\r\\n          <span\\r\\n            class=\\\"username-text text-green\\\">{{postData.post_user.user_name}}</span>{{postData?.image_post['0']['description'].substr(0, 29)}}\\r\\n          <span (click)=\\\"expanded = postData?.id\\\"\\r\\n            class=\\\"text-green\\\">{{expanded==  postData?.id ?'View less':'View more'}}</span></p>\\r\\n        <p *ngIf=\\\"expanded ==  postData?.id \\\"><span\\r\\n            class=\\\"username-text text-green\\\">{{postData.post_user.user_name}}</span>{{postData?.image_post['0']['description']}}\\r\\n          <span (click)=\\\"expanded = 0\\\" class=\\\"text-green\\\">{{expanded==  postData?.id ?'View less':'View more'}}</span></p>\\r\\n      </div>\\r\\n      <!-- ------- ends here   post type = 1-->\\r\\n    </div>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n\\r\\n  <div *ngIf=\\\"skeleton\\\">\\r\\n    <ion-card class=\\\"video-card\\\">\\r\\n      <ion-card-header class=\\\"card-head upcoming-block\\\">\\r\\n        <ion-skeleton-text animated class=\\\"card-thumb\\\"></ion-skeleton-text>\\r\\n        <ion-label>\\r\\n          <ion-skeleton-text animated></ion-skeleton-text>\\r\\n          <ion-skeleton-text animated></ion-skeleton-text>\\r\\n        </ion-label>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content class=\\\"ion-no-padding\\\">\\r\\n        <ion-thumbnail slot=\\\"start\\\">\\r\\n          <ion-skeleton-text animated></ion-skeleton-text>\\r\\n        </ion-thumbnail>\\r\\n        <div class=\\\"video-content\\\">\\r\\n          <ion-skeleton-text animated></ion-skeleton-text>\\r\\n        </div>\\r\\n      </ion-card-content>\\r\\n    </ion-card>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PostPreviewPage } from './post-preview.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PostPreviewPage\r\n  }\r\n]; \r\n \r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PostPreviewPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PostPreviewPageRoutingModule } from './post-preview-routing.module';\r\n\r\nimport { PostPreviewPage } from './post-preview.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PostPreviewPageRoutingModule\r\n  ],\r\n  declarations: [PostPreviewPage]\r\n})\r\nexport class PostPreviewPageModule {}\r\n","export default \"ion-list-header.grey-header {\\n  text-transform: capitalize;\\n  color: #222;\\n  font-weight: 400;\\n  font-size: 0.757rem;\\n  padding-right: 16px;\\n}\\n\\nion-list-header ion-button {\\n  margin: 0;\\n  border-radius: 4px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcG9zdC1wcmV2aWV3L0Q6XFxuaWtoaWxcXEludG9hY3RpdmUvc3JjXFxhcHBcXHBvc3QtcHJldmlld1xccG9zdC1wcmV2aWV3LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcG9zdC1wcmV2aWV3L3Bvc3QtcHJldmlldy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFBNEIsMEJBQUE7RUFBMkIsV0FBQTtFQUFZLGdCQUFBO0VBQWlCLG1CQUFBO0VBQW9CLG1CQUFBO0FDTXhHOztBRExBO0VBQTJCLFNBQUE7RUFBVSxrQkFBQTtBQ1VyQyIsImZpbGUiOiJzcmMvYXBwL3Bvc3QtcHJldmlldy9wb3N0LXByZXZpZXcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWxpc3QtaGVhZGVyLmdyZXktaGVhZGVye3RleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO2NvbG9yOiAjMjIyO2ZvbnQtd2VpZ2h0OiA0MDA7Zm9udC1zaXplOiAwLjc1N3JlbTtwYWRkaW5nLXJpZ2h0OiAxNnB4O31cclxuaW9uLWxpc3QtaGVhZGVyIGlvbi1idXR0b257bWFyZ2luOiAwO2JvcmRlci1yYWRpdXM6IDRweDt9IiwiaW9uLWxpc3QtaGVhZGVyLmdyZXktaGVhZGVyIHtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gIGNvbG9yOiAjMjIyO1xuICBmb250LXdlaWdodDogNDAwO1xuICBmb250LXNpemU6IDAuNzU3cmVtO1xuICBwYWRkaW5nLXJpZ2h0OiAxNnB4O1xufVxuXG5pb24tbGlzdC1oZWFkZXIgaW9uLWJ1dHRvbiB7XG4gIG1hcmdpbjogMDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { NavController } from '@ionic/angular';\r\nimport { PostService } from './../services/post.service' \r\nimport { Router, ActivatedRoute, ParamMap} from \"@angular/router\";\r\nimport { Config } from './../config/config'\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ViewerModalComponent } from 'ngx-ionic-image-viewer';\r\n\r\n@Component({\r\n  selector: 'app-post-preview',\r\n  templateUrl: './post-preview.page.html',\r\n  styleUrls: ['./../app.component.scss','./post-preview.page.scss'],\r\n})\r\nexport class PostPreviewPage implements OnInit {\r\n  like = 1;\r\n  bookmark1 = 1;\r\n  consultID:any;\r\n  postData:any;\r\n  loginUserData:any;\r\n  url:any =Config.imgUrl;\r\n  \r\nprofile_url:any = Config.profilePic;\r\n  allowBookmark:any;\r\n  expanded;\r\n  skeleton:boolean =true;\r\n  gotData:boolean=false;\r\n  constructor(public navCtrl: NavController,\r\n    private actRoute: ActivatedRoute,\r\n    private postService : PostService,\r\n    public modalController: ModalController,) { }\r\n\r\n  ngOnInit() {\r\n    \r\n    this.loginUserData = JSON.parse(localStorage.getItem('userData'));\r\n    this.actRoute.paramMap.subscribe((params: ParamMap) => {                 \r\n      this.consultID = params.get('postId');\r\n    });\r\n    if (this.consultID!= this.loginUserData.id) {\r\n      this.allowBookmark = true;\r\n    }\r\n    this.postService.getPostById({'postId':this.consultID}).subscribe((data)=>{\r\n      this.postData = data.postData;\r\n      this.skeleton =false;\r\n      this.postData.count = this.postData.post_likes.length;\r\n      this.postData.post_likes.filter((f) => {\r\n\r\n        if (this.postData.user_id == this.loginUserData.id) {\r\n          this.postData.liked = true;\r\n        }\r\n      });\r\n\r\n      this.postData.post_bookmarks.filter((f) => {\r\n        if (this.postData.user_id == this.loginUserData.id) {\r\n          this.postData.bookmarked = true;\r\n        }\r\n      });\r\n    },err=>{\r\n      this.skeleton =false;\r\n    });\r\n    this.gotData =true;\r\n    console.log(this.postData);\r\n    console.log('this.postData');\r\n  }\r\n  goBack() {\r\n    this.navCtrl.back();\r\n  }\r\n  async openViewer(path) {\r\n    console.log(this.url+path);\r\n    const modal = await this.modalController.create({\r\n      component: ViewerModalComponent,\r\n      componentProps: {\r\n        src: this.url+path, // required\r\n        srcHighRes: this.url+path,\r\n        srcFallback:this.url+path\r\n      },\r\n      cssClass: 'ion-img-viewer', // required\r\n      keyboardClose: true,\r\n      showBackdrop: true\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}